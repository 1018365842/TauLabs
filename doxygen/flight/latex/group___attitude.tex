\hypertarget{group___attitude}{\section{Estimation}
\label{group___attitude}\index{Estimation@{Estimation}}
}


A simple complementary filter designed to reduce attitude drift.  


\subsection*{Files}
\begin{DoxyCompactItemize}
\item 
file \hyperlink{ccc_8c}{ccc.\-c}
\begin{DoxyCompactList}\small\item\em Module to handle all comms to the A\-H\-R\-S on a periodic basis. \end{DoxyCompactList}\item 
file \hyperlink{ccc_8h}{ccc.\-h}
\begin{DoxyCompactList}\small\item\em Acquires sensor data and fuses it into attitude estimate for C\-C. \end{DoxyCompactList}\item 
file \hyperlink{premerlani__dcm_8h}{premerlani\-\_\-dcm.\-h}
\begin{DoxyCompactList}\small\item\em Acquires sensor data and fuses it into attitude estimate for C\-C. \end{DoxyCompactList}\item 
file \hyperlink{premerlani__gps_8h}{premerlani\-\_\-gps.\-h}
\begin{DoxyCompactList}\small\item\em Acquires sensor data and fuses it into attitude estimate for C\-C. \end{DoxyCompactList}\item 
file \hyperlink{premerlani__dcm_8c}{premerlani\-\_\-dcm.\-c}
\begin{DoxyCompactList}\small\item\em Module to handle all comms to the A\-H\-R\-S on a periodic basis. \end{DoxyCompactList}\item 
file \hyperlink{premerlani__gps_8c}{premerlani\-\_\-gps.\-c}
\begin{DoxyCompactList}\small\item\em Module to handle all comms to the A\-H\-R\-S on a periodic basis. \end{DoxyCompactList}\item 
file \hyperlink{attitudedrift_8c}{attitudedrift.\-c}
\begin{DoxyCompactList}\small\item\em Various filters for handling gyroscope drift. \end{DoxyCompactList}\item 
file \hyperlink{attitudedrift_8h}{attitudedrift.\-h}
\begin{DoxyCompactList}\small\item\em Acquires sensor data and fuses it into attitude estimate for C\-C. \end{DoxyCompactList}\item 
file \hyperlink{sensorfetch_8h}{sensorfetch.\-h}
\begin{DoxyCompactList}\small\item\em Acquires sensor data and fuses it into attitude estimate for C\-C. \end{DoxyCompactList}\item 
file \hyperlink{sensorfetch_8c}{sensorfetch.\-c}
\begin{DoxyCompactList}\small\item\em Module to handle all comms to the A\-H\-R\-S on a periodic basis. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_global_dcm_drift_variables}{Global\-Dcm\-Drift\-Variables}
\item 
struct \hyperlink{structcomplementary__filter__state}{complementary\-\_\-filter\-\_\-state}
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{group___attitude_ga0c4491990a84594e2c930826b64b725c}{D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S} \{ \\*
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}, 
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}, 
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}, 
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}, 
\\*
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}, 
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}
 \}
\item 
enum \hyperlink{group___attitude_ga0c4491990a84594e2c930826b64b725c}{D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S} \{ \\*
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}, 
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}, 
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}, 
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}, 
\\*
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}, 
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}
 \}
\item 
enum \hyperlink{group___attitude_ga198f64773276a5901d9c79690465e5db}{complimentary\-\_\-filter\-\_\-status} \{ \hyperlink{group___attitude_gga198f64773276a5901d9c79690465e5dba1b205074eafd92be8fbb945482e2c5c2}{C\-F\-\_\-\-P\-O\-W\-E\-R\-O\-N}, 
\hyperlink{group___attitude_gga198f64773276a5901d9c79690465e5dbaee904149480808a1828f1e546b365411}{C\-F\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-I\-N\-G}, 
\hyperlink{group___attitude_gga198f64773276a5901d9c79690465e5dbaaeeddedb486c25be85918925490e4f7c}{C\-F\-\_\-\-A\-R\-M\-I\-N\-G}, 
\hyperlink{group___attitude_gga198f64773276a5901d9c79690465e5dbacfd7a1440ea5820f0b90b2943586a542}{C\-F\-\_\-\-N\-O\-R\-M\-A\-L}
 \}
\item 
enum \hyperlink{group___attitude_ga2a3dfab57b52ff023f9197d9afe06ff4}{complementary\-\_\-filter\-\_\-status} \{ \hyperlink{group___attitude_gga2a3dfab57b52ff023f9197d9afe06ff4a1b205074eafd92be8fbb945482e2c5c2}{C\-F\-\_\-\-P\-O\-W\-E\-R\-O\-N}, 
\hyperlink{group___attitude_gga2a3dfab57b52ff023f9197d9afe06ff4aee904149480808a1828f1e546b365411}{C\-F\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-I\-N\-G}, 
\hyperlink{group___attitude_gga2a3dfab57b52ff023f9197d9afe06ff4aaeeddedb486c25be85918925490e4f7c}{C\-F\-\_\-\-A\-R\-M\-I\-N\-G}, 
\hyperlink{group___attitude_gga2a3dfab57b52ff023f9197d9afe06ff4acfd7a1440ea5820f0b90b2943586a542}{C\-F\-\_\-\-N\-O\-R\-M\-A\-L}
 \}
\item 
enum \hyperlink{group___attitude_ga0c4491990a84594e2c930826b64b725c}{D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S} \{ \\*
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}, 
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}, 
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}, 
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}, 
\\*
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}, 
\hyperlink{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{group___attitude_ga91405b9ba2764857427c8d2d8d8a3226}{Cotton\-Complementary\-Correction} (float $\ast$\hyperlink{pios__opahrs__proto_8h_a95ac7014e5b72e25193076997442b227}{accels}, float $\ast$\hyperlink{pios__opahrs__proto_8h_ac76cbe9fe0157f71b7a76e57ef3bf7b1}{gyros}, \hyperlink{group___n_a_m_e_ga7ae6d0e43244213b34de2c2b9aa30da6}{const} float del\-T, \hyperlink{struct_global_attitude_variables}{Global\-Attitude\-Variables} $\ast$\hyperlink{group___state_ga76682d72011dc0109f1d5cf25a6c6da0}{glbl\-Att}, float $\ast$accel\-\_\-err\-\_\-b)
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{group___attitude_gafac439746843ae2cfb6a4a053a66dc7e}{Premerlani\-\_\-\-D\-C\-M} (float $\ast$\hyperlink{pios__opahrs__proto_8h_a95ac7014e5b72e25193076997442b227}{accels}, float $\ast$\hyperlink{pios__opahrs__proto_8h_ac76cbe9fe0157f71b7a76e57ef3bf7b1}{gyros}, float Rbe\mbox{[}3\mbox{]}\mbox{[}3\mbox{]}, \hyperlink{group___n_a_m_e_ga7ae6d0e43244213b34de2c2b9aa30da6}{const} float del\-T, \hyperlink{group___exported__types_gaf6a258d8f3ee5206d682d799316314b1}{bool} G\-P\-S\-\_\-\-Drift\-\_\-\-Compensation, \hyperlink{struct_global_attitude_variables}{Global\-Attitude\-Variables} $\ast$\hyperlink{group___state_ga76682d72011dc0109f1d5cf25a6c6da0}{glbl\-Att}, float $\ast$omega\-Corr\-P)
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{group___attitude_ga688e0cf65377d9e7f81f303a1d5b96c7}{Premerlani\-\_\-\-G\-P\-S} (float $\ast$\hyperlink{pios__opahrs__proto_8h_a95ac7014e5b72e25193076997442b227}{accels}, float $\ast$\hyperlink{pios__opahrs__proto_8h_ac76cbe9fe0157f71b7a76e57ef3bf7b1}{gyros}, float Rbe\mbox{[}3\mbox{]}\mbox{[}3\mbox{]}, \hyperlink{group___n_a_m_e_ga7ae6d0e43244213b34de2c2b9aa30da6}{const} float del\-T, \hyperlink{group___exported__types_gaf6a258d8f3ee5206d682d799316314b1}{bool} G\-P\-S\-\_\-\-Drift\-\_\-\-Compensation, \hyperlink{struct_global_attitude_variables}{Global\-Attitude\-Variables} $\ast$\hyperlink{group___state_ga76682d72011dc0109f1d5cf25a6c6da0}{glbl\-Att}, float $\ast$omega\-Corr\-P)
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{group___attitude_ga81766afbca58a5d4fc811c0727f3bdf2}{yaw\-\_\-drift\-\_\-\-Mag\-G\-P\-S} (float Rbe\mbox{[}3\mbox{]}\mbox{[}3\mbox{]}, \hyperlink{group___exported__types_gaf6a258d8f3ee5206d682d799316314b1}{bool} gps\-New\-Data\-\_\-flag, \hyperlink{group___exported__types_gaf6a258d8f3ee5206d682d799316314b1}{bool} mag\-New\-Data\-\_\-flag, float $\ast$err\-Yaw\-\_\-b)
\item 
\hyperlink{group___n_a_m_e_gafd12020da5a235dfcf0c3c748fb5baed}{int32\-\_\-t} \hyperlink{group___attitude_gaaa0dba388f0dec215cb7cbe55ad0356b}{Attitude\-Start} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void})
\item 
\hyperlink{group___n_a_m_e_gafd12020da5a235dfcf0c3c748fb5baed}{int32\-\_\-t} \hyperlink{group___attitude_gab3e9047ab7c9b02bd61091a4a2e8f572}{Attitude\-Initialize} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void})
\item 
\hyperlink{group___attitude_ga785ebe70505bccce89d20aacd7996a21}{M\-O\-D\-U\-L\-E\-\_\-\-I\-N\-I\-T\-C\-A\-L\-L} (\hyperlink{group___attitude_gab3e9047ab7c9b02bd61091a4a2e8f572}{Attitude\-Initialize}, \hyperlink{group___attitude_gaaa0dba388f0dec215cb7cbe55ad0356b}{Attitude\-Start})
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{group___attitude_gacf73f90ae39bfb7e42e688376f9cf5ef}{update\-Attitude\-Drift} (Accels\-Data $\ast$accels\-Data, Gyros\-Data $\ast$gyros\-Data, \hyperlink{group___n_a_m_e_ga7ae6d0e43244213b34de2c2b9aa30da6}{const} float del\-T, \hyperlink{struct_global_attitude_variables}{Global\-Attitude\-Variables} $\ast$\hyperlink{group___state_ga76682d72011dc0109f1d5cf25a6c6da0}{glbl\-Att}, Attitude\-Settings\-Data $\ast$\hyperlink{group___state_ga8f6543ab52bafea6c0858baeeae8db59}{attitude\-Settings}, Sensor\-Settings\-Data $\ast$inertial\-Sensor\-Settings)
\item 
\hyperlink{stdint_8h_ad566f6541e98b74246db1a3a3a85ad49}{int8\-\_\-t} \hyperlink{group___attitude_ga7b51e65077e182551c02a9906849c8d8}{get\-Sensors\-C\-C} (float $\ast$prelim\-\_\-accels, float $\ast$prelim\-\_\-gyros, \hyperlink{_common_2_libraries_2_free_r_t_o_s_2_source_2include_2queue_8h_a229037f755b756156e34a440ce134b8b}{x\-Queue\-Handle} $\ast$gyro\-\_\-queue, \hyperlink{struct_global_attitude_variables}{Global\-Attitude\-Variables} $\ast$\hyperlink{group___state_ga76682d72011dc0109f1d5cf25a6c6da0}{glbl\-Att}, Gyros\-Bias\-Data $\ast$\hyperlink{group___state_ga233a2d6850e9c466f80ae6bb2ebd98e8}{gyros\-Bias}, Inertial\-Sensor\-Settings\-Data $\ast$inertial\-Sensor\-Settings)
\item 
\hyperlink{stdint_8h_ad566f6541e98b74246db1a3a3a85ad49}{int8\-\_\-t} \hyperlink{group___attitude_ga13859f6d28a13807ea66fa653165ba0e}{get\-Sensors\-C\-C3\-D} (float $\ast$prelim\-\_\-accels, float $\ast$prelim\-\_\-gyros, \hyperlink{struct_global_attitude_variables}{Global\-Attitude\-Variables} $\ast$\hyperlink{group___state_ga76682d72011dc0109f1d5cf25a6c6da0}{glbl\-Att}, Gyros\-Bias\-Data $\ast$\hyperlink{group___state_ga233a2d6850e9c466f80ae6bb2ebd98e8}{gyros\-Bias}, Inertial\-Sensor\-Settings\-Data $\ast$inertial\-Sensor\-Settings)
\item 
\hyperlink{stdint_8h_ad566f6541e98b74246db1a3a3a85ad49}{int8\-\_\-t} \hyperlink{group___attitude_ga525bb97712e9393c390475f4b14ad6ac}{get\-Sensors\-C\-C} (float $\ast$prelim\-\_\-accels, float $\ast$prelim\-\_\-gyros, \hyperlink{_common_2_libraries_2_free_r_t_o_s_2_source_2include_2queue_8h_a229037f755b756156e34a440ce134b8b}{x\-Queue\-Handle} $\ast$gyro\-\_\-queue, \hyperlink{struct_global_attitude_variables}{Global\-Attitude\-Variables} $\ast$\hyperlink{group___state_ga76682d72011dc0109f1d5cf25a6c6da0}{glbl\-Att}, Gyros\-Bias\-Data $\ast$\hyperlink{group___state_ga233a2d6850e9c466f80ae6bb2ebd98e8}{gyros\-Bias}, Sensor\-Settings\-Data $\ast$inertial\-Sensor\-Settings)
\item 
\hyperlink{stdint_8h_ad566f6541e98b74246db1a3a3a85ad49}{int8\-\_\-t} \hyperlink{group___attitude_gaefea6b47a03faf8d9d5af8093ccbc686}{get\-Sensors\-C\-C3\-D} (float $\ast$prelim\-\_\-accels, float $\ast$prelim\-\_\-gyros, \hyperlink{struct_global_attitude_variables}{Global\-Attitude\-Variables} $\ast$\hyperlink{group___state_ga76682d72011dc0109f1d5cf25a6c6da0}{glbl\-Att}, Gyros\-Bias\-Data $\ast$\hyperlink{group___state_ga233a2d6850e9c466f80ae6bb2ebd98e8}{gyros\-Bias}, Sensor\-Settings\-Data $\ast$inertial\-Sensor\-Settings)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
Attitude\-Settings\-Data \hyperlink{group___attitude_ga8f6543ab52bafea6c0858baeeae8db59}{attitude\-Settings}
\item 
Sensor\-Settings\-Data \hyperlink{group___attitude_ga7e2b26cdc0322ab9457559aa2b94f8fc}{sensor\-Settings}
\item 
Gyros\-Bias\-Data \hyperlink{group___attitude_ga233a2d6850e9c466f80ae6bb2ebd98e8}{gyros\-Bias}
\item 
struct \hyperlink{struct_global_dcm_drift_variables}{Global\-Dcm\-Drift\-Variables} $\ast$ \hyperlink{group___attitude_ga89657be5e41cdb8b74d42e587333115a}{drft}
\item 
struct \hyperlink{struct_global_dcm_drift_variables}{Global\-Dcm\-Drift\-Variables} $\ast$ \hyperlink{group___attitude_ga89657be5e41cdb8b74d42e587333115a}{drft}
\item 
\hyperlink{group___n_a_m_e_ga7ae6d0e43244213b34de2c2b9aa30da6}{const} \hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} \hyperlink{group___attitude_ga5c62d2531c3e579a49d025858bd52a83}{S\-E\-N\-S\-O\-R\-\_\-\-Q\-U\-E\-U\-E\-\_\-\-S\-I\-Z\-E} = 10
\item 
float \hyperlink{group___attitude_ga62b409271acba166dbf31b4fed9af697}{T} \mbox{[}3\mbox{]}
\begin{DoxyCompactList}\small\item\em Convert the G\-P\-S L\-L\-A position into N\-E\-D coordinates. \end{DoxyCompactList}\item 
\hyperlink{group___exported__types_gaf6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{group___attitude_ga82c3e02e8def62d93a337dc338c4d6cd}{firstpass\-\_\-flag} = true
\item 
struct \hyperlink{struct_global_dcm_drift_variables}{Global\-Dcm\-Drift\-Variables} $\ast$ \hyperlink{group___attitude_ga89657be5e41cdb8b74d42e587333115a}{drft}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
A simple complementary filter designed to reduce attitude drift. Acquires sensor data.

A collection of mathematics that help reduce attitude drift. Pick and choose for best performance.

Acquires sensor data and computes attitude estimate Specifically updates the the Attitude\-Actual and Attitude\-Raw settings objects.

A collection of mathematics that help reduce sensor drift.

\subsection{Enumeration Type Documentation}
\hypertarget{group___attitude_ga2a3dfab57b52ff023f9197d9afe06ff4}{\index{Estimation@{Estimation}!complementary\-\_\-filter\-\_\-status@{complementary\-\_\-filter\-\_\-status}}
\index{complementary\-\_\-filter\-\_\-status@{complementary\-\_\-filter\-\_\-status}!Estimation@{Estimation}}
\subsubsection[{complementary\-\_\-filter\-\_\-status}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf complementary\-\_\-filter\-\_\-status}}}\label{group___attitude_ga2a3dfab57b52ff023f9197d9afe06ff4}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{C\-F\-\_\-\-P\-O\-W\-E\-R\-O\-N@{C\-F\-\_\-\-P\-O\-W\-E\-R\-O\-N}!Estimation@{Estimation}}\index{Estimation@{Estimation}!C\-F\-\_\-\-P\-O\-W\-E\-R\-O\-N@{C\-F\-\_\-\-P\-O\-W\-E\-R\-O\-N}}\item[{\em 
\hypertarget{group___attitude_gga2a3dfab57b52ff023f9197d9afe06ff4a1b205074eafd92be8fbb945482e2c5c2}{C\-F\-\_\-\-P\-O\-W\-E\-R\-O\-N}\label{group___attitude_gga2a3dfab57b52ff023f9197d9afe06ff4a1b205074eafd92be8fbb945482e2c5c2}
}]\index{C\-F\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-I\-N\-G@{C\-F\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-I\-N\-G}!Estimation@{Estimation}}\index{Estimation@{Estimation}!C\-F\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-I\-N\-G@{C\-F\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-I\-N\-G}}\item[{\em 
\hypertarget{group___attitude_gga2a3dfab57b52ff023f9197d9afe06ff4aee904149480808a1828f1e546b365411}{C\-F\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-I\-N\-G}\label{group___attitude_gga2a3dfab57b52ff023f9197d9afe06ff4aee904149480808a1828f1e546b365411}
}]\index{C\-F\-\_\-\-A\-R\-M\-I\-N\-G@{C\-F\-\_\-\-A\-R\-M\-I\-N\-G}!Estimation@{Estimation}}\index{Estimation@{Estimation}!C\-F\-\_\-\-A\-R\-M\-I\-N\-G@{C\-F\-\_\-\-A\-R\-M\-I\-N\-G}}\item[{\em 
\hypertarget{group___attitude_gga2a3dfab57b52ff023f9197d9afe06ff4aaeeddedb486c25be85918925490e4f7c}{C\-F\-\_\-\-A\-R\-M\-I\-N\-G}\label{group___attitude_gga2a3dfab57b52ff023f9197d9afe06ff4aaeeddedb486c25be85918925490e4f7c}
}]\index{C\-F\-\_\-\-N\-O\-R\-M\-A\-L@{C\-F\-\_\-\-N\-O\-R\-M\-A\-L}!Estimation@{Estimation}}\index{Estimation@{Estimation}!C\-F\-\_\-\-N\-O\-R\-M\-A\-L@{C\-F\-\_\-\-N\-O\-R\-M\-A\-L}}\item[{\em 
\hypertarget{group___attitude_gga2a3dfab57b52ff023f9197d9afe06ff4acfd7a1440ea5820f0b90b2943586a542}{C\-F\-\_\-\-N\-O\-R\-M\-A\-L}\label{group___attitude_gga2a3dfab57b52ff023f9197d9afe06ff4acfd7a1440ea5820f0b90b2943586a542}
}]\end{description}
\end{Desc}


Definition at line 91 of file attitude.\-c.

\hypertarget{group___attitude_ga198f64773276a5901d9c79690465e5db}{\index{Estimation@{Estimation}!complimentary\-\_\-filter\-\_\-status@{complimentary\-\_\-filter\-\_\-status}}
\index{complimentary\-\_\-filter\-\_\-status@{complimentary\-\_\-filter\-\_\-status}!Estimation@{Estimation}}
\subsubsection[{complimentary\-\_\-filter\-\_\-status}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf complimentary\-\_\-filter\-\_\-status}}}\label{group___attitude_ga198f64773276a5901d9c79690465e5db}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{C\-F\-\_\-\-P\-O\-W\-E\-R\-O\-N@{C\-F\-\_\-\-P\-O\-W\-E\-R\-O\-N}!Estimation@{Estimation}}\index{Estimation@{Estimation}!C\-F\-\_\-\-P\-O\-W\-E\-R\-O\-N@{C\-F\-\_\-\-P\-O\-W\-E\-R\-O\-N}}\item[{\em 
\hypertarget{group___attitude_gga198f64773276a5901d9c79690465e5dba1b205074eafd92be8fbb945482e2c5c2}{C\-F\-\_\-\-P\-O\-W\-E\-R\-O\-N}\label{group___attitude_gga198f64773276a5901d9c79690465e5dba1b205074eafd92be8fbb945482e2c5c2}
}]\index{C\-F\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-I\-N\-G@{C\-F\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-I\-N\-G}!Estimation@{Estimation}}\index{Estimation@{Estimation}!C\-F\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-I\-N\-G@{C\-F\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-I\-N\-G}}\item[{\em 
\hypertarget{group___attitude_gga198f64773276a5901d9c79690465e5dbaee904149480808a1828f1e546b365411}{C\-F\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-I\-N\-G}\label{group___attitude_gga198f64773276a5901d9c79690465e5dbaee904149480808a1828f1e546b365411}
}]\index{C\-F\-\_\-\-A\-R\-M\-I\-N\-G@{C\-F\-\_\-\-A\-R\-M\-I\-N\-G}!Estimation@{Estimation}}\index{Estimation@{Estimation}!C\-F\-\_\-\-A\-R\-M\-I\-N\-G@{C\-F\-\_\-\-A\-R\-M\-I\-N\-G}}\item[{\em 
\hypertarget{group___attitude_gga198f64773276a5901d9c79690465e5dbaaeeddedb486c25be85918925490e4f7c}{C\-F\-\_\-\-A\-R\-M\-I\-N\-G}\label{group___attitude_gga198f64773276a5901d9c79690465e5dbaaeeddedb486c25be85918925490e4f7c}
}]\index{C\-F\-\_\-\-N\-O\-R\-M\-A\-L@{C\-F\-\_\-\-N\-O\-R\-M\-A\-L}!Estimation@{Estimation}}\index{Estimation@{Estimation}!C\-F\-\_\-\-N\-O\-R\-M\-A\-L@{C\-F\-\_\-\-N\-O\-R\-M\-A\-L}}\item[{\em 
\hypertarget{group___attitude_gga198f64773276a5901d9c79690465e5dbacfd7a1440ea5820f0b90b2943586a542}{C\-F\-\_\-\-N\-O\-R\-M\-A\-L}\label{group___attitude_gga198f64773276a5901d9c79690465e5dbacfd7a1440ea5820f0b90b2943586a542}
}]\end{description}
\end{Desc}


Definition at line 74 of file attitude.\-c.

\hypertarget{group___attitude_ga0c4491990a84594e2c930826b64b725c}{\index{Estimation@{Estimation}!D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S@{D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S}}
\index{D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S@{D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S}!Estimation@{Estimation}}
\subsubsection[{D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S}}}\label{group___attitude_ga0c4491990a84594e2c930826b64b725c}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{C\-C\-C@{C\-C\-C}!Estimation@{Estimation}}\index{Estimation@{Estimation}!C\-C\-C@{C\-C\-C}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}
}]\index{P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}!Estimation@{Estimation}}\index{Estimation@{Estimation}!P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}
}]\index{C\-C\-C@{C\-C\-C}!Estimation@{Estimation}}\index{Estimation@{Estimation}!C\-C\-C@{C\-C\-C}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}
}]\index{P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}!Estimation@{Estimation}}\index{Estimation@{Estimation}!P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}
}]\index{C\-C\-C@{C\-C\-C}!Estimation@{Estimation}}\index{Estimation@{Estimation}!C\-C\-C@{C\-C\-C}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}
}]\index{P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}!Estimation@{Estimation}}\index{Estimation@{Estimation}!P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}
}]\end{description}
\end{Desc}


Definition at line 95 of file premerlani\-\_\-gps.\-c.

\hypertarget{group___attitude_ga0c4491990a84594e2c930826b64b725c}{\index{Estimation@{Estimation}!D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S@{D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S}}
\index{D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S@{D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S}!Estimation@{Estimation}}
\subsubsection[{D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S}}}\label{group___attitude_ga0c4491990a84594e2c930826b64b725c}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{C\-C\-C@{C\-C\-C}!Estimation@{Estimation}}\index{Estimation@{Estimation}!C\-C\-C@{C\-C\-C}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}
}]\index{P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}!Estimation@{Estimation}}\index{Estimation@{Estimation}!P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}
}]\index{C\-C\-C@{C\-C\-C}!Estimation@{Estimation}}\index{Estimation@{Estimation}!C\-C\-C@{C\-C\-C}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}
}]\index{P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}!Estimation@{Estimation}}\index{Estimation@{Estimation}!P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}
}]\index{C\-C\-C@{C\-C\-C}!Estimation@{Estimation}}\index{Estimation@{Estimation}!C\-C\-C@{C\-C\-C}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}
}]\index{P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}!Estimation@{Estimation}}\index{Estimation@{Estimation}!P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}
}]\end{description}
\end{Desc}


Definition at line 98 of file premerlani\-\_\-dcm.\-c.

\hypertarget{group___attitude_ga0c4491990a84594e2c930826b64b725c}{\index{Estimation@{Estimation}!D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S@{D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S}}
\index{D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S@{D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S}!Estimation@{Estimation}}
\subsubsection[{D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf D\-R\-I\-F\-T\-\_\-\-C\-O\-R\-R\-E\-C\-T\-I\-O\-N\-\_\-\-A\-L\-G\-O\-S}}}\label{group___attitude_ga0c4491990a84594e2c930826b64b725c}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{C\-C\-C@{C\-C\-C}!Estimation@{Estimation}}\index{Estimation@{Estimation}!C\-C\-C@{C\-C\-C}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}
}]\index{P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}!Estimation@{Estimation}}\index{Estimation@{Estimation}!P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}
}]\index{C\-C\-C@{C\-C\-C}!Estimation@{Estimation}}\index{Estimation@{Estimation}!C\-C\-C@{C\-C\-C}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}
}]\index{P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}!Estimation@{Estimation}}\index{Estimation@{Estimation}!P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}
}]\index{C\-C\-C@{C\-C\-C}!Estimation@{Estimation}}\index{Estimation@{Estimation}!C\-C\-C@{C\-C\-C}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}{C\-C\-C}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca34fecf46a591d355d8d76d32e4b5d469}
}]\index{P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}!Estimation@{Estimation}}\index{Estimation@{Estimation}!P\-R\-E\-M\-E\-R\-L\-A\-N\-I@{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}}\item[{\em 
\hypertarget{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}{P\-R\-E\-M\-E\-R\-L\-A\-N\-I}\label{group___attitude_gga0c4491990a84594e2c930826b64b725ca7f012e6cc49436cc18a3204777eb9834}
}]\end{description}
\end{Desc}


Definition at line 103 of file attitudedrift.\-c.



\subsection{Function Documentation}
\hypertarget{group___attitude_gab3e9047ab7c9b02bd61091a4a2e8f572}{\index{Estimation@{Estimation}!Attitude\-Initialize@{Attitude\-Initialize}}
\index{Attitude\-Initialize@{Attitude\-Initialize}!Estimation@{Estimation}}
\subsubsection[{Attitude\-Initialize}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int32\-\_\-t} Attitude\-Initialize (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{group___attitude_gab3e9047ab7c9b02bd61091a4a2e8f572}
Initialise the module, called on startup \begin{DoxyReturn}{Returns}
0 on success or -\/1 if initialisation failed
\end{DoxyReturn}
A\-P\-I for sensor fusion algorithms\-: Configure(x\-Queue\-Handle gyro, x\-Queue\-Handle accel, x\-Queue\-Handle mag, x\-Queue\-Handle baro) Stores all the queues the algorithm will pull data from Finalize\-Sensors() -- before saving the sensors modifies them based on internal state (gyro bias) Update() -- queries queues and updates the attitude estiamte Initialise the module. Called before the start function \begin{DoxyReturn}{Returns}
0 on success or -\/1 if initialisation failed 
\end{DoxyReturn}


Definition at line 154 of file attitude.\-c.

\hypertarget{group___attitude_gaaa0dba388f0dec215cb7cbe55ad0356b}{\index{Estimation@{Estimation}!Attitude\-Start@{Attitude\-Start}}
\index{Attitude\-Start@{Attitude\-Start}!Estimation@{Estimation}}
\subsubsection[{Attitude\-Start}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int32\-\_\-t} Attitude\-Start (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{group___attitude_gaaa0dba388f0dec215cb7cbe55ad0356b}
Initialise the module, called on startup \begin{DoxyReturn}{Returns}
0 on success or -\/1 if initialisation failed
\end{DoxyReturn}
Start the task. Expects all objects to be initialized by this point. \begin{DoxyReturn}{Returns}
0 on success or -\/1 if initialisation failed 
\end{DoxyReturn}


Definition at line 139 of file attitude.\-c.

\hypertarget{group___attitude_ga91405b9ba2764857427c8d2d8d8a3226}{\index{Estimation@{Estimation}!Cotton\-Complementary\-Correction@{Cotton\-Complementary\-Correction}}
\index{Cotton\-Complementary\-Correction@{Cotton\-Complementary\-Correction}!Estimation@{Estimation}}
\subsubsection[{Cotton\-Complementary\-Correction}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} Cotton\-Complementary\-Correction (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{accels, }
\item[{float $\ast$}]{gyros, }
\item[{{\bf const} float}]{del\-T, }
\item[{{\bf Global\-Attitude\-Variables} $\ast$}]{glbl\-Att, }
\item[{float $\ast$}]{accel\-\_\-err\-\_\-b}
\end{DoxyParamCaption}
)}}\label{group___attitude_ga91405b9ba2764857427c8d2d8d8a3226}
U\-A\-V\-Objects are automatically generated by the U\-A\-V\-Object\-Generator from the object definition X\-M\-L file.

Modules have no A\-P\-I, all communication to other modules is done through U\-A\-V\-Objects. However modules may use the A\-P\-I exposed by shared libraries. See the Open\-Pilot wiki for more details. \href{http://www.openpilot.org/OpenPilot_Application_Architecture}{\tt http\-://www.\-openpilot.\-org/\-Open\-Pilot\-\_\-\-Application\-\_\-\-Architecture} 

Definition at line 64 of file ccc.\-c.

\hypertarget{group___attitude_ga7b51e65077e182551c02a9906849c8d8}{\index{Estimation@{Estimation}!get\-Sensors\-C\-C@{get\-Sensors\-C\-C}}
\index{get\-Sensors\-C\-C@{get\-Sensors\-C\-C}!Estimation@{Estimation}}
\subsubsection[{get\-Sensors\-C\-C}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int8\-\_\-t} get\-Sensors\-C\-C (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{prelim\-\_\-accels, }
\item[{float $\ast$}]{prelim\-\_\-gyros, }
\item[{{\bf x\-Queue\-Handle} $\ast$}]{gyro\-\_\-queue, }
\item[{{\bf Global\-Attitude\-Variables} $\ast$}]{glbl\-Att, }
\item[{Gyros\-Bias\-Data $\ast$}]{gyros\-Bias, }
\item[{Inertial\-Sensor\-Settings\-Data $\ast$}]{inertial\-Sensor\-Settings}
\end{DoxyParamCaption}
)}}\label{group___attitude_ga7b51e65077e182551c02a9906849c8d8}
\hypertarget{group___attitude_ga525bb97712e9393c390475f4b14ad6ac}{\index{Estimation@{Estimation}!get\-Sensors\-C\-C@{get\-Sensors\-C\-C}}
\index{get\-Sensors\-C\-C@{get\-Sensors\-C\-C}!Estimation@{Estimation}}
\subsubsection[{get\-Sensors\-C\-C}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int8\-\_\-t} get\-Sensors\-C\-C (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{prelim\-\_\-accels, }
\item[{float $\ast$}]{prelim\-\_\-gyros, }
\item[{{\bf x\-Queue\-Handle} $\ast$}]{gyro\-\_\-queue, }
\item[{{\bf Global\-Attitude\-Variables} $\ast$}]{glbl\-Att, }
\item[{Gyros\-Bias\-Data $\ast$}]{gyros\-Bias, }
\item[{Sensor\-Settings\-Data $\ast$}]{inertial\-Sensor\-Settings}
\end{DoxyParamCaption}
)}}\label{group___attitude_ga525bb97712e9393c390475f4b14ad6ac}
Get an update from the sensors 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em attitude\-Raw} & Populate the U\-A\-V\-O instead of saving right here \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if successfull, -\/1 if not 
\end{DoxyReturn}


Definition at line 69 of file sensorfetch.\-c.

\hypertarget{group___attitude_ga13859f6d28a13807ea66fa653165ba0e}{\index{Estimation@{Estimation}!get\-Sensors\-C\-C3\-D@{get\-Sensors\-C\-C3\-D}}
\index{get\-Sensors\-C\-C3\-D@{get\-Sensors\-C\-C3\-D}!Estimation@{Estimation}}
\subsubsection[{get\-Sensors\-C\-C3\-D}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int8\-\_\-t} get\-Sensors\-C\-C3\-D (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{prelim\-\_\-accels, }
\item[{float $\ast$}]{prelim\-\_\-gyros, }
\item[{{\bf Global\-Attitude\-Variables} $\ast$}]{glbl\-Att, }
\item[{Gyros\-Bias\-Data $\ast$}]{gyros\-Bias, }
\item[{Inertial\-Sensor\-Settings\-Data $\ast$}]{inertial\-Sensor\-Settings}
\end{DoxyParamCaption}
)}}\label{group___attitude_ga13859f6d28a13807ea66fa653165ba0e}
\hypertarget{group___attitude_gaefea6b47a03faf8d9d5af8093ccbc686}{\index{Estimation@{Estimation}!get\-Sensors\-C\-C3\-D@{get\-Sensors\-C\-C3\-D}}
\index{get\-Sensors\-C\-C3\-D@{get\-Sensors\-C\-C3\-D}!Estimation@{Estimation}}
\subsubsection[{get\-Sensors\-C\-C3\-D}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int8\-\_\-t} get\-Sensors\-C\-C3\-D (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{prelim\-\_\-accels, }
\item[{float $\ast$}]{prelim\-\_\-gyros, }
\item[{{\bf Global\-Attitude\-Variables} $\ast$}]{glbl\-Att, }
\item[{Gyros\-Bias\-Data $\ast$}]{gyros\-Bias, }
\item[{Sensor\-Settings\-Data $\ast$}]{inertial\-Sensor\-Settings}
\end{DoxyParamCaption}
)}}\label{group___attitude_gaefea6b47a03faf8d9d5af8093ccbc686}
Get an update from the sensors 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em attitude\-Raw} & Populate the U\-A\-V\-O instead of saving right here \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if successfull, -\/1 if not 
\end{DoxyReturn}


Definition at line 131 of file sensorfetch.\-c.

\hypertarget{group___attitude_ga785ebe70505bccce89d20aacd7996a21}{\index{Estimation@{Estimation}!M\-O\-D\-U\-L\-E\-\_\-\-I\-N\-I\-T\-C\-A\-L\-L@{M\-O\-D\-U\-L\-E\-\_\-\-I\-N\-I\-T\-C\-A\-L\-L}}
\index{M\-O\-D\-U\-L\-E\-\_\-\-I\-N\-I\-T\-C\-A\-L\-L@{M\-O\-D\-U\-L\-E\-\_\-\-I\-N\-I\-T\-C\-A\-L\-L}!Estimation@{Estimation}}
\subsubsection[{M\-O\-D\-U\-L\-E\-\_\-\-I\-N\-I\-T\-C\-A\-L\-L}]{\setlength{\rightskip}{0pt plus 5cm}M\-O\-D\-U\-L\-E\-\_\-\-I\-N\-I\-T\-C\-A\-L\-L (
\begin{DoxyParamCaption}
\item[{{\bf Attitude\-Initialize}}]{, }
\item[{{\bf Attitude\-Start}}]{}
\end{DoxyParamCaption}
)}}\label{group___attitude_ga785ebe70505bccce89d20aacd7996a21}
Module thread, should not return. 

Definition at line 192 of file attitude.\-c.

\hypertarget{group___attitude_gafac439746843ae2cfb6a4a053a66dc7e}{\index{Estimation@{Estimation}!Premerlani\-\_\-\-D\-C\-M@{Premerlani\-\_\-\-D\-C\-M}}
\index{Premerlani\-\_\-\-D\-C\-M@{Premerlani\-\_\-\-D\-C\-M}!Estimation@{Estimation}}
\subsubsection[{Premerlani\-\_\-\-D\-C\-M}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} Premerlani\-\_\-\-D\-C\-M (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{accels, }
\item[{float $\ast$}]{gyros, }
\item[{float}]{Rbe\mbox{[}3\mbox{]}\mbox{[}3\mbox{]}, }
\item[{{\bf const} float}]{del\-T, }
\item[{{\bf bool}}]{G\-P\-S\-\_\-\-Drift\-\_\-\-Compensation, }
\item[{{\bf Global\-Attitude\-Variables} $\ast$}]{glbl\-Att, }
\item[{float $\ast$}]{omega\-Corr\-P}
\end{DoxyParamCaption}
)}}\label{group___attitude_gafac439746843ae2cfb6a4a053a66dc7e}


Definition at line 123 of file premerlani\-\_\-dcm.\-c.

\hypertarget{group___attitude_ga688e0cf65377d9e7f81f303a1d5b96c7}{\index{Estimation@{Estimation}!Premerlani\-\_\-\-G\-P\-S@{Premerlani\-\_\-\-G\-P\-S}}
\index{Premerlani\-\_\-\-G\-P\-S@{Premerlani\-\_\-\-G\-P\-S}!Estimation@{Estimation}}
\subsubsection[{Premerlani\-\_\-\-G\-P\-S}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} Premerlani\-\_\-\-G\-P\-S (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{accels, }
\item[{float $\ast$}]{gyros, }
\item[{float}]{Rbe\mbox{[}3\mbox{]}\mbox{[}3\mbox{]}, }
\item[{{\bf const} float}]{del\-T, }
\item[{{\bf bool}}]{G\-P\-S\-\_\-\-Drift\-\_\-\-Compensation, }
\item[{{\bf Global\-Attitude\-Variables} $\ast$}]{glbl\-Att, }
\item[{float $\ast$}]{omega\-Corr\-P}
\end{DoxyParamCaption}
)}}\label{group___attitude_ga688e0cf65377d9e7f81f303a1d5b96c7}


Definition at line 116 of file premerlani\-\_\-gps.\-c.

\hypertarget{group___attitude_gacf73f90ae39bfb7e42e688376f9cf5ef}{\index{Estimation@{Estimation}!update\-Attitude\-Drift@{update\-Attitude\-Drift}}
\index{update\-Attitude\-Drift@{update\-Attitude\-Drift}!Estimation@{Estimation}}
\subsubsection[{update\-Attitude\-Drift}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} update\-Attitude\-Drift (
\begin{DoxyParamCaption}
\item[{Accels\-Data $\ast$}]{accels\-Data, }
\item[{Gyros\-Data $\ast$}]{gyros\-Data, }
\item[{{\bf const} float}]{del\-T, }
\item[{{\bf Global\-Attitude\-Variables} $\ast$}]{glbl\-Att, }
\item[{Attitude\-Settings\-Data $\ast$}]{attitude\-Settings, }
\item[{Sensor\-Settings\-Data $\ast$}]{inertial\-Sensor\-Settings}
\end{DoxyParamCaption}
)}}\label{group___attitude_gacf73f90ae39bfb7e42e688376f9cf5ef}
Correct attitude drift. Choose from any of the following algorithms 

Definition at line 118 of file attitudedrift.\-c.

\hypertarget{group___attitude_ga81766afbca58a5d4fc811c0727f3bdf2}{\index{Estimation@{Estimation}!yaw\-\_\-drift\-\_\-\-Mag\-G\-P\-S@{yaw\-\_\-drift\-\_\-\-Mag\-G\-P\-S}}
\index{yaw\-\_\-drift\-\_\-\-Mag\-G\-P\-S@{yaw\-\_\-drift\-\_\-\-Mag\-G\-P\-S}!Estimation@{Estimation}}
\subsubsection[{yaw\-\_\-drift\-\_\-\-Mag\-G\-P\-S}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} yaw\-\_\-drift\-\_\-\-Mag\-G\-P\-S (
\begin{DoxyParamCaption}
\item[{float}]{Rbe\mbox{[}3\mbox{]}\mbox{[}3\mbox{]}, }
\item[{{\bf bool}}]{gps\-New\-Data\-\_\-flag, }
\item[{{\bf bool}}]{mag\-New\-Data\-\_\-flag, }
\item[{float $\ast$}]{err\-Yaw\-\_\-b}
\end{DoxyParamCaption}
)}}\label{group___attitude_ga81766afbca58a5d4fc811c0727f3bdf2}


Definition at line 324 of file premerlani\-\_\-gps.\-c.



\subsection{Variable Documentation}
\hypertarget{group___attitude_ga8f6543ab52bafea6c0858baeeae8db59}{\index{Estimation@{Estimation}!attitude\-Settings@{attitude\-Settings}}
\index{attitude\-Settings@{attitude\-Settings}!Estimation@{Estimation}}
\subsubsection[{attitude\-Settings}]{\setlength{\rightskip}{0pt plus 5cm}Attitude\-Settings\-Data attitude\-Settings}}\label{group___attitude_ga8f6543ab52bafea6c0858baeeae8db59}
U\-A\-V\-Objects are automatically generated by the U\-A\-V\-Object\-Generator from the object definition X\-M\-L file.

Modules have no A\-P\-I, all communication to other modules is done through U\-A\-V\-Objects. However modules may use the A\-P\-I exposed by shared libraries. See the Open\-Pilot wiki for more details. \href{http://www.openpilot.org/OpenPilot_Application_Architecture}{\tt http\-://www.\-openpilot.\-org/\-Open\-Pilot\-\_\-\-Application\-\_\-\-Architecture} 

Definition at line 94 of file state.\-c.

\hypertarget{group___attitude_ga89657be5e41cdb8b74d42e587333115a}{\index{Estimation@{Estimation}!drft@{drft}}
\index{drft@{drft}!Estimation@{Estimation}}
\subsubsection[{drft}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf Global\-Dcm\-Drift\-Variables}$\ast$ drft}}\label{group___attitude_ga89657be5e41cdb8b74d42e587333115a}


Definition at line 94 of file attitudedrift.\-c.

\hypertarget{group___attitude_ga89657be5e41cdb8b74d42e587333115a}{\index{Estimation@{Estimation}!drft@{drft}}
\index{drft@{drft}!Estimation@{Estimation}}
\subsubsection[{drft}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf Global\-Dcm\-Drift\-Variables}$\ast$ drft}}\label{group___attitude_ga89657be5e41cdb8b74d42e587333115a}


Definition at line 94 of file attitudedrift.\-c.

\hypertarget{group___attitude_ga89657be5e41cdb8b74d42e587333115a}{\index{Estimation@{Estimation}!drft@{drft}}
\index{drft@{drft}!Estimation@{Estimation}}
\subsubsection[{drft}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf Global\-Dcm\-Drift\-Variables}$\ast$ drft}}\label{group___attitude_ga89657be5e41cdb8b74d42e587333115a}


Definition at line 94 of file attitudedrift.\-c.

\hypertarget{group___attitude_ga82c3e02e8def62d93a337dc338c4d6cd}{\index{Estimation@{Estimation}!firstpass\-\_\-flag@{firstpass\-\_\-flag}}
\index{firstpass\-\_\-flag@{firstpass\-\_\-flag}!Estimation@{Estimation}}
\subsubsection[{firstpass\-\_\-flag}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} firstpass\-\_\-flag = true}}\label{group___attitude_ga82c3e02e8def62d93a337dc338c4d6cd}
U\-A\-V\-Objects are automatically generated by the U\-A\-V\-Object\-Generator from the object definition X\-M\-L file.

Modules have no A\-P\-I, all communication to other modules is done through U\-A\-V\-Objects. However modules may use the A\-P\-I exposed by shared libraries. See the Open\-Pilot wiki for more details. \href{http://www.openpilot.org/OpenPilot_Application_Architecture}{\tt http\-://www.\-openpilot.\-org/\-Open\-Pilot\-\_\-\-Application\-\_\-\-Architecture} 

Definition at line 66 of file attitudedrift.\-c.

\hypertarget{group___attitude_ga233a2d6850e9c466f80ae6bb2ebd98e8}{\index{Estimation@{Estimation}!gyros\-Bias@{gyros\-Bias}}
\index{gyros\-Bias@{gyros\-Bias}!Estimation@{Estimation}}
\subsubsection[{gyros\-Bias}]{\setlength{\rightskip}{0pt plus 5cm}Gyros\-Bias\-Data gyros\-Bias}}\label{group___attitude_ga233a2d6850e9c466f80ae6bb2ebd98e8}


Definition at line 95 of file state.\-c.

\hypertarget{group___attitude_ga5c62d2531c3e579a49d025858bd52a83}{\index{Estimation@{Estimation}!S\-E\-N\-S\-O\-R\-\_\-\-Q\-U\-E\-U\-E\-\_\-\-S\-I\-Z\-E@{S\-E\-N\-S\-O\-R\-\_\-\-Q\-U\-E\-U\-E\-\_\-\-S\-I\-Z\-E}}
\index{S\-E\-N\-S\-O\-R\-\_\-\-Q\-U\-E\-U\-E\-\_\-\-S\-I\-Z\-E@{S\-E\-N\-S\-O\-R\-\_\-\-Q\-U\-E\-U\-E\-\_\-\-S\-I\-Z\-E}!Estimation@{Estimation}}
\subsubsection[{S\-E\-N\-S\-O\-R\-\_\-\-Q\-U\-E\-U\-E\-\_\-\-S\-I\-Z\-E}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} {\bf uint32\-\_\-t} S\-E\-N\-S\-O\-R\-\_\-\-Q\-U\-E\-U\-E\-\_\-\-S\-I\-Z\-E = 10}}\label{group___attitude_ga5c62d2531c3e579a49d025858bd52a83}


Definition at line 140 of file attitude.\-c.

\hypertarget{group___attitude_ga7e2b26cdc0322ab9457559aa2b94f8fc}{\index{Estimation@{Estimation}!sensor\-Settings@{sensor\-Settings}}
\index{sensor\-Settings@{sensor\-Settings}!Estimation@{Estimation}}
\subsubsection[{sensor\-Settings}]{\setlength{\rightskip}{0pt plus 5cm}Sensor\-Settings\-Data sensor\-Settings}}\label{group___attitude_ga7e2b26cdc0322ab9457559aa2b94f8fc}


Definition at line 93 of file state.\-c.

\hypertarget{group___attitude_ga62b409271acba166dbf31b4fed9af697}{\index{Estimation@{Estimation}!T@{T}}
\index{T@{T}!Estimation@{Estimation}}
\subsubsection[{T}]{\setlength{\rightskip}{0pt plus 5cm}float T\mbox{[}3\mbox{]}}}\label{group___attitude_ga62b409271acba166dbf31b4fed9af697}


Convert the G\-P\-S L\-L\-A position into N\-E\-D coordinates. 

\begin{DoxyNote}{Note}
this method uses a taylor expansion around the home coordinates to convert to N\-E\-D which allows it to be done with all floating calculations 
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em Current} & G\-P\-S coordinates \\
\hline
\mbox{\tt out}  & {\em N\-E\-D} & frame coordinates \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 for success, -\/1 for failure 
\end{DoxyReturn}


Definition at line 1111 of file attitude.\-c.

