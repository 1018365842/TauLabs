\hypertarget{group___control_module}{\section{Control Module}
\label{group___control_module}\index{Control Module@{Control Module}}
}


Process the control sources and select the appropriate one.  


\subsection*{Files}
\begin{DoxyCompactItemize}
\item 
file \hyperlink{transmitter__control_8c}{transmitter\-\_\-control.\-c}
\begin{DoxyCompactList}\small\item\em Handles R/\-C link and flight mode. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structrcvr__activity__fsm}{rcvr\-\_\-activity\-\_\-fsm}
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{group___control_module_gabc93537d93556a29eb5f2bcaaeaddb34}{arm\-\_\-state} \{ \\*
\hyperlink{group___control_module_ggabc93537d93556a29eb5f2bcaaeaddb34a2f34987e2e81245760bad38d871bd766}{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-E\-D}, 
\hyperlink{group___control_module_ggabc93537d93556a29eb5f2bcaaeaddb34a70d0897e1119601f5e6fd4176e701603}{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-A\-R\-M\-I\-N\-G\-\_\-\-M\-A\-N\-U\-A\-L}, 
\hyperlink{group___control_module_ggabc93537d93556a29eb5f2bcaaeaddb34a5703b08b4383be1fc1f688336caa647c}{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-A\-R\-M\-E\-D}, 
\hyperlink{group___control_module_ggabc93537d93556a29eb5f2bcaaeaddb34ab917b0801c1092957516518b59fc7e60}{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-I\-N\-G\-\_\-\-M\-A\-N\-U\-A\-L}, 
\\*
\hyperlink{group___control_module_ggabc93537d93556a29eb5f2bcaaeaddb34ad5488ade89f8d979f76bbccb7bbd5993}{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-I\-N\-G\-\_\-\-T\-I\-M\-E\-O\-U\-T}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group___n_a_m_e_gafd12020da5a235dfcf0c3c748fb5baed}{int32\-\_\-t} \hyperlink{group___control_module_ga6898605c577e556c14f9f296ce99d58a}{Manual\-Control\-Start} ()
\item 
\hyperlink{group___n_a_m_e_gafd12020da5a235dfcf0c3c748fb5baed}{int32\-\_\-t} \hyperlink{group___control_module_gab34729c98a8d9f36a6064c9148941005}{Manual\-Control\-Initialize} ()
\item 
\hyperlink{group___control_module_ga4a3722cc695788ccfc0e15d467e8f5a1}{M\-O\-D\-U\-L\-E\-\_\-\-I\-N\-I\-T\-C\-A\-L\-L} (\hyperlink{group___control_module_gab34729c98a8d9f36a6064c9148941005}{Manual\-Control\-Initialize}, \hyperlink{group___control_module_ga6898605c577e556c14f9f296ce99d58a}{Manual\-Control\-Start})
\item 
\hyperlink{group___n_a_m_e_gafd12020da5a235dfcf0c3c748fb5baed}{int32\-\_\-t} \hyperlink{group___control_module_ga27653bb9e2abe9498b31e9f748f158d8}{transmitter\-\_\-control\-\_\-initialize} ()
\begin{DoxyCompactList}\small\item\em Initialize the transmitter control mode. \end{DoxyCompactList}\item 
\hyperlink{group___n_a_m_e_gafd12020da5a235dfcf0c3c748fb5baed}{int32\-\_\-t} \hyperlink{group___control_module_gad28dba2f07e1f4fe872ccf01941c3c84}{transmitter\-\_\-control\-\_\-update} ()
\begin{DoxyCompactList}\small\item\em Process inputs and arming. \end{DoxyCompactList}\item 
\hyperlink{group___n_a_m_e_gafd12020da5a235dfcf0c3c748fb5baed}{int32\-\_\-t} \hyperlink{group___control_module_ga6ffb050d1f10ab7aa441ce65629e26bd}{transmitter\-\_\-control\-\_\-select} (\hyperlink{group___exported__types_gaf6a258d8f3ee5206d682d799316314b1}{bool} reset\-\_\-controller)
\begin{DoxyCompactList}\small\item\em Select and use transmitter control. \end{DoxyCompactList}\item 
enum \hyperlink{group___control_ga61438f5375f5e08187c7e12f13723afd}{control\-\_\-selection} \hyperlink{group___control_module_gacf816af6b4ab2c23707b55eb6b3281a0}{transmitter\-\_\-control\-\_\-selected\-\_\-controller} ()
\begin{DoxyCompactList}\small\item\em Choose the control source based on transmitter status. \end{DoxyCompactList}\item 
enum \hyperlink{group___control_ga6db279174b366abaad3f5de70b10655c}{control\-\_\-events} \hyperlink{group___control_module_ga51dc43f87515d8de90aebb1465578212}{transmitter\-\_\-control\-\_\-get\-\_\-events} ()
\begin{DoxyCompactList}\small\item\em Get any control events and flush it. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Process the control sources and select the appropriate one. Provide manual control or allow it alter flight mode.

\subsection{Enumeration Type Documentation}
\hypertarget{group___control_module_gabc93537d93556a29eb5f2bcaaeaddb34}{\index{Control Module@{Control Module}!arm\-\_\-state@{arm\-\_\-state}}
\index{arm\-\_\-state@{arm\-\_\-state}!Control Module@{Control Module}}
\subsubsection[{arm\-\_\-state}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf arm\-\_\-state}}}\label{group___control_module_gabc93537d93556a29eb5f2bcaaeaddb34}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-E\-D@{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-E\-D}!Control Module@{Control Module}}\index{Control Module@{Control Module}!A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-E\-D@{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-E\-D}}\item[{\em 
\hypertarget{group___control_module_ggabc93537d93556a29eb5f2bcaaeaddb34a2f34987e2e81245760bad38d871bd766}{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-E\-D}\label{group___control_module_ggabc93537d93556a29eb5f2bcaaeaddb34a2f34987e2e81245760bad38d871bd766}
}]\index{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-A\-R\-M\-I\-N\-G\-\_\-\-M\-A\-N\-U\-A\-L@{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-A\-R\-M\-I\-N\-G\-\_\-\-M\-A\-N\-U\-A\-L}!Control Module@{Control Module}}\index{Control Module@{Control Module}!A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-A\-R\-M\-I\-N\-G\-\_\-\-M\-A\-N\-U\-A\-L@{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-A\-R\-M\-I\-N\-G\-\_\-\-M\-A\-N\-U\-A\-L}}\item[{\em 
\hypertarget{group___control_module_ggabc93537d93556a29eb5f2bcaaeaddb34a70d0897e1119601f5e6fd4176e701603}{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-A\-R\-M\-I\-N\-G\-\_\-\-M\-A\-N\-U\-A\-L}\label{group___control_module_ggabc93537d93556a29eb5f2bcaaeaddb34a70d0897e1119601f5e6fd4176e701603}
}]\index{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-A\-R\-M\-E\-D@{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-A\-R\-M\-E\-D}!Control Module@{Control Module}}\index{Control Module@{Control Module}!A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-A\-R\-M\-E\-D@{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-A\-R\-M\-E\-D}}\item[{\em 
\hypertarget{group___control_module_ggabc93537d93556a29eb5f2bcaaeaddb34a5703b08b4383be1fc1f688336caa647c}{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-A\-R\-M\-E\-D}\label{group___control_module_ggabc93537d93556a29eb5f2bcaaeaddb34a5703b08b4383be1fc1f688336caa647c}
}]\index{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-I\-N\-G\-\_\-\-M\-A\-N\-U\-A\-L@{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-I\-N\-G\-\_\-\-M\-A\-N\-U\-A\-L}!Control Module@{Control Module}}\index{Control Module@{Control Module}!A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-I\-N\-G\-\_\-\-M\-A\-N\-U\-A\-L@{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-I\-N\-G\-\_\-\-M\-A\-N\-U\-A\-L}}\item[{\em 
\hypertarget{group___control_module_ggabc93537d93556a29eb5f2bcaaeaddb34ab917b0801c1092957516518b59fc7e60}{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-I\-N\-G\-\_\-\-M\-A\-N\-U\-A\-L}\label{group___control_module_ggabc93537d93556a29eb5f2bcaaeaddb34ab917b0801c1092957516518b59fc7e60}
}]\index{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-I\-N\-G\-\_\-\-T\-I\-M\-E\-O\-U\-T@{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-I\-N\-G\-\_\-\-T\-I\-M\-E\-O\-U\-T}!Control Module@{Control Module}}\index{Control Module@{Control Module}!A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-I\-N\-G\-\_\-\-T\-I\-M\-E\-O\-U\-T@{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-I\-N\-G\-\_\-\-T\-I\-M\-E\-O\-U\-T}}\item[{\em 
\hypertarget{group___control_module_ggabc93537d93556a29eb5f2bcaaeaddb34ad5488ade89f8d979f76bbccb7bbd5993}{A\-R\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-I\-S\-A\-R\-M\-I\-N\-G\-\_\-\-T\-I\-M\-E\-O\-U\-T}\label{group___control_module_ggabc93537d93556a29eb5f2bcaaeaddb34ad5488ade89f8d979f76bbccb7bbd5993}
}]\end{description}
\end{Desc}


Definition at line 64 of file transmitter\-\_\-control.\-c.



\subsection{Function Documentation}
\hypertarget{group___control_module_gab34729c98a8d9f36a6064c9148941005}{\index{Control Module@{Control Module}!Manual\-Control\-Initialize@{Manual\-Control\-Initialize}}
\index{Manual\-Control\-Initialize@{Manual\-Control\-Initialize}!Control Module@{Control Module}}
\subsubsection[{Manual\-Control\-Initialize}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int32\-\_\-t} Manual\-Control\-Initialize (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{group___control_module_gab34729c98a8d9f36a6064c9148941005}
Module initialization 

Definition at line 82 of file manualcontrol.\-c.

\hypertarget{group___control_module_ga6898605c577e556c14f9f296ce99d58a}{\index{Control Module@{Control Module}!Manual\-Control\-Start@{Manual\-Control\-Start}}
\index{Manual\-Control\-Start@{Manual\-Control\-Start}!Control Module@{Control Module}}
\subsubsection[{Manual\-Control\-Start}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int32\-\_\-t} Manual\-Control\-Start (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{group___control_module_ga6898605c577e556c14f9f296ce99d58a}
Module starting 

Definition at line 69 of file manualcontrol.\-c.

\hypertarget{group___control_module_ga4a3722cc695788ccfc0e15d467e8f5a1}{\index{Control Module@{Control Module}!M\-O\-D\-U\-L\-E\-\_\-\-I\-N\-I\-T\-C\-A\-L\-L@{M\-O\-D\-U\-L\-E\-\_\-\-I\-N\-I\-T\-C\-A\-L\-L}}
\index{M\-O\-D\-U\-L\-E\-\_\-\-I\-N\-I\-T\-C\-A\-L\-L@{M\-O\-D\-U\-L\-E\-\_\-\-I\-N\-I\-T\-C\-A\-L\-L}!Control Module@{Control Module}}
\subsubsection[{M\-O\-D\-U\-L\-E\-\_\-\-I\-N\-I\-T\-C\-A\-L\-L}]{\setlength{\rightskip}{0pt plus 5cm}M\-O\-D\-U\-L\-E\-\_\-\-I\-N\-I\-T\-C\-A\-L\-L (
\begin{DoxyParamCaption}
\item[{{\bf Manual\-Control\-Initialize}}]{, }
\item[{{\bf Manual\-Control\-Start}}]{}
\end{DoxyParamCaption}
)}}\label{group___control_module_ga4a3722cc695788ccfc0e15d467e8f5a1}
\hypertarget{group___control_module_ga51dc43f87515d8de90aebb1465578212}{\index{Control Module@{Control Module}!transmitter\-\_\-control\-\_\-get\-\_\-events@{transmitter\-\_\-control\-\_\-get\-\_\-events}}
\index{transmitter\-\_\-control\-\_\-get\-\_\-events@{transmitter\-\_\-control\-\_\-get\-\_\-events}!Control Module@{Control Module}}
\subsubsection[{transmitter\-\_\-control\-\_\-get\-\_\-events}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf control\-\_\-events} transmitter\-\_\-control\-\_\-get\-\_\-events (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{group___control_module_ga51dc43f87515d8de90aebb1465578212}


Get any control events and flush it. 

Get any control events. 

Definition at line 416 of file transmitter\-\_\-control.\-c.

\hypertarget{group___control_module_ga27653bb9e2abe9498b31e9f748f158d8}{\index{Control Module@{Control Module}!transmitter\-\_\-control\-\_\-initialize@{transmitter\-\_\-control\-\_\-initialize}}
\index{transmitter\-\_\-control\-\_\-initialize@{transmitter\-\_\-control\-\_\-initialize}!Control Module@{Control Module}}
\subsubsection[{transmitter\-\_\-control\-\_\-initialize}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int32\-\_\-t} transmitter\-\_\-control\-\_\-initialize (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{group___control_module_ga27653bb9e2abe9498b31e9f748f158d8}


Initialize the transmitter control mode. 



Definition at line 115 of file transmitter\-\_\-control.\-c.

\hypertarget{group___control_module_ga6ffb050d1f10ab7aa441ce65629e26bd}{\index{Control Module@{Control Module}!transmitter\-\_\-control\-\_\-select@{transmitter\-\_\-control\-\_\-select}}
\index{transmitter\-\_\-control\-\_\-select@{transmitter\-\_\-control\-\_\-select}!Control Module@{Control Module}}
\subsubsection[{transmitter\-\_\-control\-\_\-select}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int32\-\_\-t} transmitter\-\_\-control\-\_\-select (
\begin{DoxyParamCaption}
\item[{{\bf bool}}]{reset\-\_\-controller}
\end{DoxyParamCaption}
)}}\label{group___control_module_ga6ffb050d1f10ab7aa441ce65629e26bd}


Select and use transmitter control. 

Select and use transmitter control 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em reset\-\_\-controller} & True if previously another controller was used \\
\hline
\end{DoxyParams}


Definition at line 358 of file transmitter\-\_\-control.\-c.

\hypertarget{group___control_module_gacf816af6b4ab2c23707b55eb6b3281a0}{\index{Control Module@{Control Module}!transmitter\-\_\-control\-\_\-selected\-\_\-controller@{transmitter\-\_\-control\-\_\-selected\-\_\-controller}}
\index{transmitter\-\_\-control\-\_\-selected\-\_\-controller@{transmitter\-\_\-control\-\_\-selected\-\_\-controller}!Control Module@{Control Module}}
\subsubsection[{transmitter\-\_\-control\-\_\-selected\-\_\-controller}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf control\-\_\-selection} transmitter\-\_\-control\-\_\-selected\-\_\-controller (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{group___control_module_gacf816af6b4ab2c23707b55eb6b3281a0}


Choose the control source based on transmitter status. 



Definition at line 403 of file transmitter\-\_\-control.\-c.

\hypertarget{group___control_module_gad28dba2f07e1f4fe872ccf01941c3c84}{\index{Control Module@{Control Module}!transmitter\-\_\-control\-\_\-update@{transmitter\-\_\-control\-\_\-update}}
\index{transmitter\-\_\-control\-\_\-update@{transmitter\-\_\-control\-\_\-update}!Control Module@{Control Module}}
\subsubsection[{transmitter\-\_\-control\-\_\-update}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int32\-\_\-t} transmitter\-\_\-control\-\_\-update (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{group___control_module_gad28dba2f07e1f4fe872ccf01941c3c84}


Process inputs and arming. 

This will always process the arming signals as for now the transmitter is always in charge. When a transmitter is not detected control will fall back to the failsafe module. If the flight mode is in tablet control position then control will be ceeded to that module. 

Definition at line 160 of file transmitter\-\_\-control.\-c.

