\hypertarget{pm_8c}{\section{/home/jose/\-Code/gui\-Tau/flight/\-Libraries/\-Py\-Mite/vm/pm.c File Reference}
\label{pm_8c}\index{/home/jose/\-Code/gui\-Tau/flight/\-Libraries/\-Py\-Mite/vm/pm.\-c@{/home/jose/\-Code/gui\-Tau/flight/\-Libraries/\-Py\-Mite/vm/pm.\-c}}
}


Py\-Mite User A\-P\-I.  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{pm_8h_a78d16e71b533f23ea2eaa9453f966d56}{Pm\-Return\-\_\-t} \hyperlink{pm_8c_ac662bbde0e4cfe93538391001f05b2c6}{pm\-\_\-init} (\hyperlink{mem_8h_a9c68f72c120fc5a782d464c144aafa2b}{Pm\-Mem\-Space\-\_\-t} memspace, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} \hyperlink{group___n_a_m_e_ga7ae6d0e43244213b34de2c2b9aa30da6}{const} $\ast$\hyperlink{group___n_a_m_e_ga7ae6d0e43244213b34de2c2b9aa30da6}{const} pusrimg)
\item 
\hyperlink{pm_8h_a78d16e71b533f23ea2eaa9453f966d56}{Pm\-Return\-\_\-t} \hyperlink{pm_8c_a17340784675e49bf0ef2e9ba7bc8acf4}{pm\-\_\-run} (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} \hyperlink{group___n_a_m_e_ga7ae6d0e43244213b34de2c2b9aa30da6}{const} $\ast$modstr)
\item 
\hyperlink{pm_8h_a78d16e71b533f23ea2eaa9453f966d56}{Pm\-Return\-\_\-t} \hyperlink{pm_8c_a6aef2ff3deee1b1cf89a355288169e07}{pm\-\_\-vm\-Periodic} (\hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\-\_\-t} usecs\-Since\-Last\-Call)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group___c_m_s_i_s___core___instruction_interface_gad7d93af13046b0378601b85c8c16673b}{volatile} \hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} \hyperlink{pm_8c_aa93534ff8683f3082d331797749ee835}{pm\-\_\-timer\-Ms\-Ticks} = 0
\item 
\hyperlink{group___c_m_s_i_s___core___instruction_interface_gad7d93af13046b0378601b85c8c16673b}{volatile} \hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} \hyperlink{pm_8c_a43ac5f485293d9b5e73e3a464e05b9c3}{pm\-\_\-last\-Reschedule\-Timestamp} = 0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Py\-Mite User A\-P\-I. High-\/level functions to initialize and run Py\-Mite 

Definition in file \hyperlink{pm_8c_source}{pm.\-c}.



\subsection{Function Documentation}
\hypertarget{pm_8c_ac662bbde0e4cfe93538391001f05b2c6}{\index{pm.\-c@{pm.\-c}!pm\-\_\-init@{pm\-\_\-init}}
\index{pm\-\_\-init@{pm\-\_\-init}!pm.c@{pm.\-c}}
\subsubsection[{pm\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Pm\-Return\-\_\-t} pm\-\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf Pm\-Mem\-Space\-\_\-t}}]{memspace, }
\item[{{\bf uint8\-\_\-t} {\bf const} $\ast${\bf const}}]{pusrimg}
\end{DoxyParamCaption}
)}}\label{pm_8c_ac662bbde0e4cfe93538391001f05b2c6}
Initializes the Py\-Mite virtual machine and indexes the user's application image. The V\-M heap and globals are reset. The argument, pusrimg, may be null for interactive sessions.


\begin{DoxyParams}{Parameters}
{\em memspace} & Memory space in which the user image is located \\
\hline
{\em pusrimg} & Address of the user image in the memory space \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return status 
\end{DoxyReturn}


Definition at line 43 of file pm.\-c.

\hypertarget{pm_8c_a17340784675e49bf0ef2e9ba7bc8acf4}{\index{pm.\-c@{pm.\-c}!pm\-\_\-run@{pm\-\_\-run}}
\index{pm\-\_\-run@{pm\-\_\-run}!pm.c@{pm.\-c}}
\subsubsection[{pm\-\_\-run}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Pm\-Return\-\_\-t} pm\-\_\-run (
\begin{DoxyParamCaption}
\item[{{\bf uint8\-\_\-t} {\bf const} $\ast$}]{modstr}
\end{DoxyParamCaption}
)}}\label{pm_8c_a17340784675e49bf0ef2e9ba7bc8acf4}
Executes the named module


\begin{DoxyParams}{Parameters}
{\em modstr} & Name of module to run \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return status 
\end{DoxyReturn}


Definition at line 69 of file pm.\-c.

\hypertarget{pm_8c_a6aef2ff3deee1b1cf89a355288169e07}{\index{pm.\-c@{pm.\-c}!pm\-\_\-vm\-Periodic@{pm\-\_\-vm\-Periodic}}
\index{pm\-\_\-vm\-Periodic@{pm\-\_\-vm\-Periodic}!pm.c@{pm.\-c}}
\subsubsection[{pm\-\_\-vm\-Periodic}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Pm\-Return\-\_\-t} pm\-\_\-vm\-Periodic (
\begin{DoxyParamCaption}
\item[{{\bf uint16\-\_\-t}}]{usecs\-Since\-Last\-Call}
\end{DoxyParamCaption}
)}}\label{pm_8c_a6aef2ff3deee1b1cf89a355288169e07}
Needs to be called periodically by the host program. For the desktop target, it is periodically called using a signal. For embedded targets, it needs to be called periodically. It should be called from a timer interrupt.


\begin{DoxyParams}{Parameters}
{\em usecs\-Since\-Last\-Call} & Microseconds (not less than those) that passed since last call. This must be $<$64535. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return status 
\end{DoxyReturn}


Definition at line 103 of file pm.\-c.



\subsection{Variable Documentation}
\hypertarget{pm_8c_a43ac5f485293d9b5e73e3a464e05b9c3}{\index{pm.\-c@{pm.\-c}!pm\-\_\-last\-Reschedule\-Timestamp@{pm\-\_\-last\-Reschedule\-Timestamp}}
\index{pm\-\_\-last\-Reschedule\-Timestamp@{pm\-\_\-last\-Reschedule\-Timestamp}!pm.c@{pm.\-c}}
\subsubsection[{pm\-\_\-last\-Reschedule\-Timestamp}]{\setlength{\rightskip}{0pt plus 5cm}{\bf volatile} {\bf uint32\-\_\-t} pm\-\_\-last\-Reschedule\-Timestamp = 0}}\label{pm_8c_a43ac5f485293d9b5e73e3a464e05b9c3}
Stores tick timestamp of last scheduler run 

Definition at line 39 of file pm.\-c.

\hypertarget{pm_8c_aa93534ff8683f3082d331797749ee835}{\index{pm.\-c@{pm.\-c}!pm\-\_\-timer\-Ms\-Ticks@{pm\-\_\-timer\-Ms\-Ticks}}
\index{pm\-\_\-timer\-Ms\-Ticks@{pm\-\_\-timer\-Ms\-Ticks}!pm.c@{pm.\-c}}
\subsubsection[{pm\-\_\-timer\-Ms\-Ticks}]{\setlength{\rightskip}{0pt plus 5cm}{\bf volatile} {\bf uint32\-\_\-t} pm\-\_\-timer\-Ms\-Ticks = 0}}\label{pm_8c_aa93534ff8683f3082d331797749ee835}
Stores the timer millisecond-\/ticks since system start 

Definition at line 36 of file pm.\-c.

