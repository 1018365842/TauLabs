\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c}{\section{/home/jose/\-Code/gui\-Tau/flight/\-Pi\-O\-S.posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.c File Reference}
\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c}\index{/home/jose/\-Code/gui\-Tau/flight/\-Pi\-O\-S.\-posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{/home/jose/\-Code/gui\-Tau/flight/\-Pi\-O\-S.\-posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_x_p_a_r_a_m_s}{X\-P\-A\-R\-A\-M\-S}
\item 
struct \hyperlink{struct_t_h_r_e_a_d___s_u_s_p_e_n_s_i_o_n_s}{T\-H\-R\-E\-A\-D\-\_\-\-S\-U\-S\-P\-E\-N\-S\-I\-O\-N\-S}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{struct_x_p_a_r_a_m_s}{X\-P\-A\-R\-A\-M\-S} \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_ac722d940aea2dc26b97464a1dbd63b21}{x\-Params}
\item 
typedef struct \hyperlink{struct_t_h_r_e_a_d___s_u_s_p_e_n_s_i_o_n_s}{T\-H\-R\-E\-A\-D\-\_\-\-S\-U\-S\-P\-E\-N\-S\-I\-O\-N\-S} \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a4e7bff5d8a720a47276b1f687f370df6}{x\-Thread\-State}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_add01c927fb689f7ec170e42d47d27927}{v\-Port\-Yield} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void})
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_adc1ee232821f34923cf9214220ce40e6}{v\-Port\-System\-Tick\-Handler} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void})
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a5cfc38319f17c8e804020ec247b6325d}{v\-Port\-Start\-First\-Task} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void})
\item 
port\-S\-T\-A\-C\-K\-\_\-\-T\-Y\-P\-E $\ast$ \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a4a439f783d47636cea978a4c8669f258}{px\-Port\-Initialise\-Stack} (port\-S\-T\-A\-C\-K\-\_\-\-T\-Y\-P\-E $\ast$px\-Top\-Of\-Stack, \hyperlink{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2projdefs_8h_ae74d12a2f9cb1fcae89532830b5413ac}{pd\-T\-A\-S\-K\-\_\-\-C\-O\-D\-E} px\-Code, \hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} $\ast$pv\-Parameters)
\item 
port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a53fbb684e09a643c56b7508f1ef97ad3}{x\-Port\-Start\-Scheduler} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void})
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_af76f3c0b44c5b5c06fc046a4ee1a6423}{v\-Port\-End\-Scheduler} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void})
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_afdcc79704f1ce3c8790268b732b7911d}{v\-Port\-Yield\-From\-I\-S\-R} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void})
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a2ed3554a3de09a3bd09d396ee081ab69}{v\-Port\-Enter\-Critical} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void})
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_aed20ada05b957181a0de042802a82a5b}{v\-Port\-Exit\-Critical} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void})
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a6efcba81026ff6f2920ea53804bc6bdf}{v\-Port\-Disable\-Interrupts} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void})
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_af329f3280e39011c4d9efbca3d5dd329}{v\-Port\-Enable\-Interrupts} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void})
\item 
port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a74874880bc92942127e3a07be5571822}{x\-Port\-Set\-Interrupt\-Mask} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void})
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_ae909be125cc9a2220ed8ee1acbf28874}{v\-Port\-Clear\-Interrupt\-Mask} (port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E x\-Mask)
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_ab5abb38fd2477d71d71d21e81f6f0206}{v\-Port\-Forcibly\-End\-Thread} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} $\ast$px\-Task\-To\-Delete)
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a88c7620356047aea8d55bb5c4fa51ac5}{v\-Port\-Add\-Task\-Handle} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} $\ast$px\-Task\-Handle)
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_ac407473e70202ce8c914854a8edad969}{v\-Port\-Find\-Ticks\-Per\-Second} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void})
\item 
unsigned long \hyperlink{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_abbd3994df98343a0a306ca8cd7d6e53b}{ul\-Port\-Get\-Timer\-Value} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void})
\end{DoxyCompactItemize}


\subsection{Typedef Documentation}
\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_ac722d940aea2dc26b97464a1dbd63b21}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!x\-Params@{x\-Params}}
\index{x\-Params@{x\-Params}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{x\-Params}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf X\-P\-A\-R\-A\-M\-S}  {\bf x\-Params}}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_ac722d940aea2dc26b97464a1dbd63b21}
\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a4e7bff5d8a720a47276b1f687f370df6}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!x\-Thread\-State@{x\-Thread\-State}}
\index{x\-Thread\-State@{x\-Thread\-State}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{x\-Thread\-State}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf T\-H\-R\-E\-A\-D\-\_\-\-S\-U\-S\-P\-E\-N\-S\-I\-O\-N\-S}  {\bf x\-Thread\-State}}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a4e7bff5d8a720a47276b1f687f370df6}


\subsection{Function Documentation}
\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a4a439f783d47636cea978a4c8669f258}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!px\-Port\-Initialise\-Stack@{px\-Port\-Initialise\-Stack}}
\index{px\-Port\-Initialise\-Stack@{px\-Port\-Initialise\-Stack}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{px\-Port\-Initialise\-Stack}]{\setlength{\rightskip}{0pt plus 5cm}port\-S\-T\-A\-C\-K\-\_\-\-T\-Y\-P\-E$\ast$ px\-Port\-Initialise\-Stack (
\begin{DoxyParamCaption}
\item[{port\-S\-T\-A\-C\-K\-\_\-\-T\-Y\-P\-E $\ast$}]{px\-Top\-Of\-Stack, }
\item[{{\bf pd\-T\-A\-S\-K\-\_\-\-C\-O\-D\-E}}]{px\-Code, }
\item[{{\bf void} $\ast$}]{pv\-Parameters}
\end{DoxyParamCaption}
)}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a4a439f783d47636cea978a4c8669f258}
Creates a new thread. port enter needs to be delayed since \hyperlink{_common_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a237d63f90b28e0950bd86f76815cd6e3}{pv\-Port\-Malloc()} and Setup\-Signals\-And\-Scheduler\-Policy() both call critical section code

Definition at line 210 of file port.\-c.

\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_abbd3994df98343a0a306ca8cd7d6e53b}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!ul\-Port\-Get\-Timer\-Value@{ul\-Port\-Get\-Timer\-Value}}
\index{ul\-Port\-Get\-Timer\-Value@{ul\-Port\-Get\-Timer\-Value}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{ul\-Port\-Get\-Timer\-Value}]{\setlength{\rightskip}{0pt plus 5cm}unsigned long ul\-Port\-Get\-Timer\-Value (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_abbd3994df98343a0a306ca8cd7d6e53b}
timer stuff 

Definition at line 1075 of file port.\-c.

\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a88c7620356047aea8d55bb5c4fa51ac5}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!v\-Port\-Add\-Task\-Handle@{v\-Port\-Add\-Task\-Handle}}
\index{v\-Port\-Add\-Task\-Handle@{v\-Port\-Add\-Task\-Handle}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{v\-Port\-Add\-Task\-Handle}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-Add\-Task\-Handle (
\begin{DoxyParamCaption}
\item[{{\bf void} $\ast$}]{px\-Task\-Handle}
\end{DoxyParamCaption}
)}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a88c7620356047aea8d55bb5c4fa51ac5}
add a thread to the list 

Definition at line 1041 of file port.\-c.

\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_ae909be125cc9a2220ed8ee1acbf28874}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!v\-Port\-Clear\-Interrupt\-Mask@{v\-Port\-Clear\-Interrupt\-Mask}}
\index{v\-Port\-Clear\-Interrupt\-Mask@{v\-Port\-Clear\-Interrupt\-Mask}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{v\-Port\-Clear\-Interrupt\-Mask}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-Clear\-Interrupt\-Mask (
\begin{DoxyParamCaption}
\item[{port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E}]{x\-Mask}
\end{DoxyParamCaption}
)}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_ae909be125cc9a2220ed8ee1acbf28874}
sets the "interrupt mask back to a stored setting we better make sure the calling code behaves if it doesn't it might indicate something went seriously wrong

Definition at line 559 of file port.\-c.

\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a6efcba81026ff6f2920ea53804bc6bdf}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!v\-Port\-Disable\-Interrupts@{v\-Port\-Disable\-Interrupts}}
\index{v\-Port\-Disable\-Interrupts@{v\-Port\-Disable\-Interrupts}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{v\-Port\-Disable\-Interrupts}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-Disable\-Interrupts (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a6efcba81026ff6f2920ea53804bc6bdf}
public function to disable interrupts 

Definition at line 505 of file port.\-c.

\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_af329f3280e39011c4d9efbca3d5dd329}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!v\-Port\-Enable\-Interrupts@{v\-Port\-Enable\-Interrupts}}
\index{v\-Port\-Enable\-Interrupts@{v\-Port\-Enable\-Interrupts}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{v\-Port\-Enable\-Interrupts}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-Enable\-Interrupts (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_af329f3280e39011c4d9efbca3d5dd329}
public function to enable interrupts It is bad practice to enable interrupts explicitly while in a critical section most likely this is a bug -\/ better prevent the userspace from being stupid

Definition at line 518 of file port.\-c.

\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_af76f3c0b44c5b5c06fc046a4ee1a6423}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!v\-Port\-End\-Scheduler@{v\-Port\-End\-Scheduler}}
\index{v\-Port\-End\-Scheduler@{v\-Port\-End\-Scheduler}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{v\-Port\-End\-Scheduler}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-End\-Scheduler (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_af76f3c0b44c5b5c06fc046a4ee1a6423}
quickly clean up all running threads, without asking them first 

Definition at line 352 of file port.\-c.

\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a2ed3554a3de09a3bd09d396ee081ab69}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!v\-Port\-Enter\-Critical@{v\-Port\-Enter\-Critical}}
\index{v\-Port\-Enter\-Critical@{v\-Port\-Enter\-Critical}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{v\-Port\-Enter\-Critical}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-Enter\-Critical (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a2ed3554a3de09a3bd09d396ee081ab69}
enter a critical section (public) 

Definition at line 383 of file port.\-c.

\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_aed20ada05b957181a0de042802a82a5b}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!v\-Port\-Exit\-Critical@{v\-Port\-Exit\-Critical}}
\index{v\-Port\-Exit\-Critical@{v\-Port\-Exit\-Critical}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{v\-Port\-Exit\-Critical}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-Exit\-Critical (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_aed20ada05b957181a0de042802a82a5b}
leave a critical section (public) 

Definition at line 395 of file port.\-c.

\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_ac407473e70202ce8c914854a8edad969}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!v\-Port\-Find\-Ticks\-Per\-Second@{v\-Port\-Find\-Ticks\-Per\-Second}}
\index{v\-Port\-Find\-Ticks\-Per\-Second@{v\-Port\-Find\-Ticks\-Per\-Second}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{v\-Port\-Find\-Ticks\-Per\-Second}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-Find\-Ticks\-Per\-Second (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_ac407473e70202ce8c914854a8edad969}
find out system speed 

Definition at line 1064 of file port.\-c.

\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_ab5abb38fd2477d71d71d21e81f6f0206}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!v\-Port\-Forcibly\-End\-Thread@{v\-Port\-Forcibly\-End\-Thread}}
\index{v\-Port\-Forcibly\-End\-Thread@{v\-Port\-Forcibly\-End\-Thread}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{v\-Port\-Forcibly\-End\-Thread}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-Forcibly\-End\-Thread (
\begin{DoxyParamCaption}
\item[{{\bf void} $\ast$}]{px\-Task\-To\-Delete}
\end{DoxyParamCaption}
)}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_ab5abb38fd2477d71d71d21e81f6f0206}
thread kill implementation 

Definition at line 679 of file port.\-c.

\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a5cfc38319f17c8e804020ec247b6325d}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!v\-Port\-Start\-First\-Task@{v\-Port\-Start\-First\-Task}}
\index{v\-Port\-Start\-First\-Task@{v\-Port\-Start\-First\-Task}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{v\-Port\-Start\-First\-Task}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-Start\-First\-Task (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a5cfc38319f17c8e804020ec247b6325d}
Initially the schedulers main thread holds the running thread mutex. it needs to be given up, to allow the first running task to execute \hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_adc1ee232821f34923cf9214220ce40e6}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!v\-Port\-System\-Tick\-Handler@{v\-Port\-System\-Tick\-Handler}}
\index{v\-Port\-System\-Tick\-Handler@{v\-Port\-System\-Tick\-Handler}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{v\-Port\-System\-Tick\-Handler}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-System\-Tick\-Handler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_adc1ee232821f34923cf9214220ce40e6}
the tick handler is just an ordinary function, called by the supervisor thread periodically the problem with the tick handler is, that it runs outside of the schedulers domain -\/ worse, on a multi core machine there might be a task running {\itshape right now}
\begin{DoxyItemize}
\item we need to stop it in order to do anything. However we need to make sure we are able to first
\end{DoxyItemize}

halt current task -\/ this means N\-O task is running! Send signals until the signal handler acknowledges. how long that takes depends on the systems signal implementation. During a preemption we will see the actual T\-H\-R\-E\-A\-D\-\_\-\-S\-L\-E\-E\-P\-I\-N\-G S\-T\-A\-T\-E when yielding we would only see a future T\-H\-R\-E\-A\-D\-\_\-\-R\-U\-N\-N\-I\-N\-G after having woken up both is O\-K note\-: we do N\-O\-T give up switching\-Thread\-Mutex!

synchronize and acquire the running thread mutex

now the tick handler runs I\-N\-S\-T\-E\-A\-D of the currently active thread
\begin{DoxyItemize}
\item even on a multicore system failure to do so can lead to unexpected results during \hyperlink{_common_2_libraries_2_free_r_t_o_s_2_source_2include_2task_8h_aab2f88103023b7e845abe1642da9486d}{v\-Task\-Increment\-Tick()}...
\end{DoxyItemize}

call tick handler

while we are here we can as well switch the running thread

wake up the task (again)

give control to the userspace task

Definition at line 587 of file port.\-c.

\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_add01c927fb689f7ec170e42d47d27927}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!v\-Port\-Yield@{v\-Port\-Yield}}
\index{v\-Port\-Yield@{v\-Port\-Yield}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{v\-Port\-Yield}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-Yield (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_add01c927fb689f7ec170e42d47d27927}
public yield function -\/ secure 

Definition at line 534 of file port.\-c.

\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_afdcc79704f1ce3c8790268b732b7911d}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!v\-Port\-Yield\-From\-I\-S\-R@{v\-Port\-Yield\-From\-I\-S\-R}}
\index{v\-Port\-Yield\-From\-I\-S\-R@{v\-Port\-Yield\-From\-I\-S\-R}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{v\-Port\-Yield\-From\-I\-S\-R}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-Yield\-From\-I\-S\-R (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_afdcc79704f1ce3c8790268b732b7911d}
we must assume this one is called from outside the schedulers context (I\-S\-R's, signal handlers, or non-\/freertos threads) we cannot safely assume mutual exclusion 

Definition at line 374 of file port.\-c.

\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a74874880bc92942127e3a07be5571822}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!x\-Port\-Set\-Interrupt\-Mask@{x\-Port\-Set\-Interrupt\-Mask}}
\index{x\-Port\-Set\-Interrupt\-Mask@{x\-Port\-Set\-Interrupt\-Mask}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{x\-Port\-Set\-Interrupt\-Mask}]{\setlength{\rightskip}{0pt plus 5cm}port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E x\-Port\-Set\-Interrupt\-Mask (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a74874880bc92942127e3a07be5571822}
set and clear interrupt masks are used by Free\-R\-T\-O\-S to enter and leave critical sections with unknown nexting level -\/ but we D\-O know the nesting level 

Definition at line 538 of file port.\-c.

\hypertarget{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a53fbb684e09a643c56b7508f1ef97ad3}{\index{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}!x\-Port\-Start\-Scheduler@{x\-Port\-Start\-Scheduler}}
\index{x\-Port\-Start\-Scheduler@{x\-Port\-Start\-Scheduler}!posix/posix/Libraries/FreeRTOS/Source/portable/GCC/Posix/port.c@{posix/posix/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/portable/\-G\-C\-C/\-Posix/port.\-c}}
\subsubsection[{x\-Port\-Start\-Scheduler}]{\setlength{\rightskip}{0pt plus 5cm}port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E x\-Port\-Start\-Scheduler (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{posix_2posix_2_libraries_2_free_r_t_o_s_2_source_2portable_2_g_c_c_2_posix_2port_8c_a53fbb684e09a643c56b7508f1ef97ad3}
After tasks have been set up the main thread goes into a sleeping loop, but allows to be interrupted by timer ticks. note\-: N\-O P\-O\-R\-T\-\_\-\-E\-N\-T\-E\-R ! -\/ this is the supervisor thread which runs outside of the schedulers context

Main scheduling loop. Call the tick handler every port\-T\-I\-C\-K\-\_\-\-R\-A\-T\-E\-\_\-\-M\-I\-C\-R\-O\-S\-E\-C\-O\-N\-D\-S

Definition at line 275 of file port.\-c.

