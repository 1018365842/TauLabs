\hypertarget{frame_8h}{\section{/home/jose/\-Code/gui\-Tau/flight/\-Libraries/\-Py\-Mite/vm/frame.h File Reference}
\label{frame_8h}\index{/home/jose/\-Code/gui\-Tau/flight/\-Libraries/\-Py\-Mite/vm/frame.\-h@{/home/jose/\-Code/gui\-Tau/flight/\-Libraries/\-Py\-Mite/vm/frame.\-h}}
}


V\-M Frame.  


\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_pm_block__s}{Pm\-Block\-\_\-s}
\item 
struct \hyperlink{struct_pm_frame__s}{Pm\-Frame\-\_\-s}
\item 
struct \hyperlink{struct_pm_native_frame__s}{Pm\-Native\-Frame\-\_\-s}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef enum \hyperlink{frame_8h_aba09b1f597c6f84d84ede488b8e85b5f}{Pm\-Block\-Type\-\_\-e} \hyperlink{frame_8h_af5cbd6b76bfefbc6c50fff4db03db82d}{Pm\-Block\-Type\-\_\-t}
\item 
typedef enum \hyperlink{frame_8h_aba09b1f597c6f84d84ede488b8e85b5f}{Pm\-Block\-Type\-\_\-e} $\ast$ \hyperlink{frame_8h_ab886200a2901486b62aaeec5fde7c518}{p\-Pm\-Block\-Type\-\_\-t}
\item 
typedef struct \hyperlink{struct_pm_block__s}{Pm\-Block\-\_\-s} \hyperlink{frame_8h_a5f8ae98cbb946cdf79f335bdfc6e6c4c}{Pm\-Block\-\_\-t}
\item 
typedef struct \hyperlink{struct_pm_block__s}{Pm\-Block\-\_\-s} $\ast$ \hyperlink{frame_8h_aceaac1fe42f08b3880cfc27d3db6075f}{p\-Pm\-Block\-\_\-t}
\item 
typedef struct \hyperlink{struct_pm_frame__s}{Pm\-Frame\-\_\-s} \hyperlink{frame_8h_a6014648a9d7749a01f450b45d3d5e94d}{Pm\-Frame\-\_\-t}
\item 
typedef struct \hyperlink{struct_pm_frame__s}{Pm\-Frame\-\_\-s} $\ast$ \hyperlink{frame_8h_a648c242e0bdaa439c225efbc41d88e12}{p\-Pm\-Frame\-\_\-t}
\item 
typedef struct \hyperlink{struct_pm_native_frame__s}{Pm\-Native\-Frame\-\_\-s} \hyperlink{frame_8h_a57a44d4519a313492cf6aa89aaea5d58}{Pm\-Native\-Frame\-\_\-t}
\item 
typedef struct \hyperlink{struct_pm_native_frame__s}{Pm\-Native\-Frame\-\_\-s} $\ast$ \hyperlink{frame_8h_a7bf1c86d080b23a3668ab51995c03d26}{p\-Pm\-Native\-Frame\-\_\-t}
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{frame_8h_aba09b1f597c6f84d84ede488b8e85b5f}{Pm\-Block\-Type\-\_\-e} \{ \hyperlink{frame_8h_aba09b1f597c6f84d84ede488b8e85b5fa89b87c377fc8e878edecec316d3eac06}{B\-\_\-\-I\-N\-V\-A\-L\-I\-D} = 0, 
\hyperlink{frame_8h_aba09b1f597c6f84d84ede488b8e85b5faa7982b4a9451d8e1994d458a00d7515e}{B\-\_\-\-L\-O\-O\-P}, 
\hyperlink{frame_8h_aba09b1f597c6f84d84ede488b8e85b5fa10c4109c810bbed9efb51797e0992ab5}{B\-\_\-\-T\-R\-Y}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{pm_8h_a78d16e71b533f23ea2eaa9453f966d56}{Pm\-Return\-\_\-t} \hyperlink{frame_8h_ab2ab765d372a18353af06acfb54e5ad7}{frame\-\_\-new} (\hyperlink{obj_8h_af293479fa3f9d92b941ee7445ad3960e}{p\-Pm\-Obj\-\_\-t} pfunc, \hyperlink{obj_8h_af293479fa3f9d92b941ee7445ad3960e}{p\-Pm\-Obj\-\_\-t} $\ast$r\-\_\-pobj)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
V\-M Frame. V\-M frame header. 

Definition in file \hyperlink{frame_8h_source}{frame.\-h}.



\subsection{Typedef Documentation}
\hypertarget{frame_8h_a5f8ae98cbb946cdf79f335bdfc6e6c4c}{\index{frame.\-h@{frame.\-h}!Pm\-Block\-\_\-t@{Pm\-Block\-\_\-t}}
\index{Pm\-Block\-\_\-t@{Pm\-Block\-\_\-t}!frame.h@{frame.\-h}}
\subsubsection[{Pm\-Block\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf Pm\-Block\-\_\-s}  {\bf Pm\-Block\-\_\-t}}}\label{frame_8h_a5f8ae98cbb946cdf79f335bdfc6e6c4c}
Block

Extra info for loops and trys (others?) Frames use linked list of blocks to handle nested loops and try-\/catch blocks. \hypertarget{frame_8h_af5cbd6b76bfefbc6c50fff4db03db82d}{\index{frame.\-h@{frame.\-h}!Pm\-Block\-Type\-\_\-t@{Pm\-Block\-Type\-\_\-t}}
\index{Pm\-Block\-Type\-\_\-t@{Pm\-Block\-Type\-\_\-t}!frame.h@{frame.\-h}}
\subsubsection[{Pm\-Block\-Type\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef enum {\bf Pm\-Block\-Type\-\_\-e}  {\bf Pm\-Block\-Type\-\_\-t}}}\label{frame_8h_af5cbd6b76bfefbc6c50fff4db03db82d}
Block Type

Numerical values to put in the 'b\-\_\-type' field of the t\-Pm\-Block\-Type struct. \hypertarget{frame_8h_a6014648a9d7749a01f450b45d3d5e94d}{\index{frame.\-h@{frame.\-h}!Pm\-Frame\-\_\-t@{Pm\-Frame\-\_\-t}}
\index{Pm\-Frame\-\_\-t@{Pm\-Frame\-\_\-t}!frame.h@{frame.\-h}}
\subsubsection[{Pm\-Frame\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf Pm\-Frame\-\_\-s}  {\bf Pm\-Frame\-\_\-t}}}\label{frame_8h_a6014648a9d7749a01f450b45d3d5e94d}
Frame

A struct that holds the execution frame of a function, including the stack, local vars and pointer to the code object.

This struct doesn't declare the stack. \hyperlink{frame_8c_ab2ab765d372a18353af06acfb54e5ad7}{frame\-\_\-new()} is responsible for allocating the extra memory at the tail of fo\-\_\-locals\mbox{[}\mbox{]} to hold both the locals and stack. \hypertarget{frame_8h_a57a44d4519a313492cf6aa89aaea5d58}{\index{frame.\-h@{frame.\-h}!Pm\-Native\-Frame\-\_\-t@{Pm\-Native\-Frame\-\_\-t}}
\index{Pm\-Native\-Frame\-\_\-t@{Pm\-Native\-Frame\-\_\-t}!frame.h@{frame.\-h}}
\subsubsection[{Pm\-Native\-Frame\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf Pm\-Native\-Frame\-\_\-s}  {\bf Pm\-Native\-Frame\-\_\-t}}}\label{frame_8h_a57a44d4519a313492cf6aa89aaea5d58}
Native Frame

A struct that holds the execution frame of a native function, including the args and single stack slot, and pointer to the code object.

This struct doesn't need an O\-D because it is only used statically in the globals struct. There's only one native frame, the global one. This happens because a native function is a leaf node in the call tree (a native func can't call python funcs). \hypertarget{frame_8h_aceaac1fe42f08b3880cfc27d3db6075f}{\index{frame.\-h@{frame.\-h}!p\-Pm\-Block\-\_\-t@{p\-Pm\-Block\-\_\-t}}
\index{p\-Pm\-Block\-\_\-t@{p\-Pm\-Block\-\_\-t}!frame.h@{frame.\-h}}
\subsubsection[{p\-Pm\-Block\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf Pm\-Block\-\_\-s}
 $\ast$ {\bf p\-Pm\-Block\-\_\-t}}}\label{frame_8h_aceaac1fe42f08b3880cfc27d3db6075f}
\hypertarget{frame_8h_ab886200a2901486b62aaeec5fde7c518}{\index{frame.\-h@{frame.\-h}!p\-Pm\-Block\-Type\-\_\-t@{p\-Pm\-Block\-Type\-\_\-t}}
\index{p\-Pm\-Block\-Type\-\_\-t@{p\-Pm\-Block\-Type\-\_\-t}!frame.h@{frame.\-h}}
\subsubsection[{p\-Pm\-Block\-Type\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef enum {\bf Pm\-Block\-Type\-\_\-e} $\ast$ {\bf p\-Pm\-Block\-Type\-\_\-t}}}\label{frame_8h_ab886200a2901486b62aaeec5fde7c518}
\hypertarget{frame_8h_a648c242e0bdaa439c225efbc41d88e12}{\index{frame.\-h@{frame.\-h}!p\-Pm\-Frame\-\_\-t@{p\-Pm\-Frame\-\_\-t}}
\index{p\-Pm\-Frame\-\_\-t@{p\-Pm\-Frame\-\_\-t}!frame.h@{frame.\-h}}
\subsubsection[{p\-Pm\-Frame\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf Pm\-Frame\-\_\-s}
 $\ast$ {\bf p\-Pm\-Frame\-\_\-t}}}\label{frame_8h_a648c242e0bdaa439c225efbc41d88e12}
\hypertarget{frame_8h_a7bf1c86d080b23a3668ab51995c03d26}{\index{frame.\-h@{frame.\-h}!p\-Pm\-Native\-Frame\-\_\-t@{p\-Pm\-Native\-Frame\-\_\-t}}
\index{p\-Pm\-Native\-Frame\-\_\-t@{p\-Pm\-Native\-Frame\-\_\-t}!frame.h@{frame.\-h}}
\subsubsection[{p\-Pm\-Native\-Frame\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf Pm\-Native\-Frame\-\_\-s}
 $\ast$ {\bf p\-Pm\-Native\-Frame\-\_\-t}}}\label{frame_8h_a7bf1c86d080b23a3668ab51995c03d26}


\subsection{Enumeration Type Documentation}
\hypertarget{frame_8h_aba09b1f597c6f84d84ede488b8e85b5f}{\index{frame.\-h@{frame.\-h}!Pm\-Block\-Type\-\_\-e@{Pm\-Block\-Type\-\_\-e}}
\index{Pm\-Block\-Type\-\_\-e@{Pm\-Block\-Type\-\_\-e}!frame.h@{frame.\-h}}
\subsubsection[{Pm\-Block\-Type\-\_\-e}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Pm\-Block\-Type\-\_\-e}}}\label{frame_8h_aba09b1f597c6f84d84ede488b8e85b5f}
Block Type

Numerical values to put in the 'b\-\_\-type' field of the t\-Pm\-Block\-Type struct. \begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{B\-\_\-\-I\-N\-V\-A\-L\-I\-D@{B\-\_\-\-I\-N\-V\-A\-L\-I\-D}!frame.\-h@{frame.\-h}}\index{frame.\-h@{frame.\-h}!B\-\_\-\-I\-N\-V\-A\-L\-I\-D@{B\-\_\-\-I\-N\-V\-A\-L\-I\-D}}\item[{\em 
\hypertarget{frame_8h_aba09b1f597c6f84d84ede488b8e85b5fa89b87c377fc8e878edecec316d3eac06}{B\-\_\-\-I\-N\-V\-A\-L\-I\-D}\label{frame_8h_aba09b1f597c6f84d84ede488b8e85b5fa89b87c377fc8e878edecec316d3eac06}
}]Invalid block type \index{B\-\_\-\-L\-O\-O\-P@{B\-\_\-\-L\-O\-O\-P}!frame.\-h@{frame.\-h}}\index{frame.\-h@{frame.\-h}!B\-\_\-\-L\-O\-O\-P@{B\-\_\-\-L\-O\-O\-P}}\item[{\em 
\hypertarget{frame_8h_aba09b1f597c6f84d84ede488b8e85b5faa7982b4a9451d8e1994d458a00d7515e}{B\-\_\-\-L\-O\-O\-P}\label{frame_8h_aba09b1f597c6f84d84ede488b8e85b5faa7982b4a9451d8e1994d458a00d7515e}
}]Loop type \index{B\-\_\-\-T\-R\-Y@{B\-\_\-\-T\-R\-Y}!frame.\-h@{frame.\-h}}\index{frame.\-h@{frame.\-h}!B\-\_\-\-T\-R\-Y@{B\-\_\-\-T\-R\-Y}}\item[{\em 
\hypertarget{frame_8h_aba09b1f597c6f84d84ede488b8e85b5fa10c4109c810bbed9efb51797e0992ab5}{B\-\_\-\-T\-R\-Y}\label{frame_8h_aba09b1f597c6f84d84ede488b8e85b5fa10c4109c810bbed9efb51797e0992ab5}
}]Try type \end{description}
\end{Desc}


Definition at line 40 of file frame.\-h.



\subsection{Function Documentation}
\hypertarget{frame_8h_ab2ab765d372a18353af06acfb54e5ad7}{\index{frame.\-h@{frame.\-h}!frame\-\_\-new@{frame\-\_\-new}}
\index{frame\-\_\-new@{frame\-\_\-new}!frame.h@{frame.\-h}}
\subsubsection[{frame\-\_\-new}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Pm\-Return\-\_\-t} frame\-\_\-new (
\begin{DoxyParamCaption}
\item[{{\bf p\-Pm\-Obj\-\_\-t}}]{pfunc, }
\item[{{\bf p\-Pm\-Obj\-\_\-t} $\ast$}]{r\-\_\-pobj}
\end{DoxyParamCaption}
)}}\label{frame_8h_ab2ab765d372a18353af06acfb54e5ad7}
Allocate space for a new frame, fill its fields with respect to the given function object. Return pointer to the new frame.


\begin{DoxyParams}{Parameters}
{\em pfunc} & ptr to Function object. \\
\hline
{\em r\-\_\-pobj} & Return value; the new frame. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return status. 
\end{DoxyReturn}


Definition at line 32 of file frame.\-c.

