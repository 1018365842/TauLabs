\hypertarget{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h}{\section{/home/jose/\-Code/gui\-Tau/flight/\-Pi\-O\-S.win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.h File Reference}
\label{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h}\index{/home/jose/\-Code/gui\-Tau/flight/\-Pi\-O\-S.\-win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h@{/home/jose/\-Code/gui\-Tau/flight/\-Pi\-O\-S.\-win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a14d32f8130d3c0b212cfc751730b5b49}{void} (\-\_\-\-\_\-interrupt \-\_\-\-\_\-far $\ast$px\-I\-S\-R)()
\item 
port\-S\-T\-A\-C\-K\-\_\-\-T\-Y\-P\-E $\ast$ \hyperlink{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_ad7be527fb76ed85fde68cecfa8b3ba9e}{px\-Port\-Initialise\-Stack} (port\-S\-T\-A\-C\-K\-\_\-\-T\-Y\-P\-E $\ast$px\-Top\-Of\-Stack, \hyperlink{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2projdefs_8h_ae74d12a2f9cb1fcae89532830b5413ac}{pd\-T\-A\-S\-K\-\_\-\-C\-O\-D\-E} px\-Code, \hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} $\ast$pv\-Parameters, port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E x\-Run\-Privileged) P\-R\-I\-V\-I\-L\-E\-G\-E\-D\-\_\-\-F\-U\-N\-C\-T\-I\-O\-N
\item 
port\-S\-T\-A\-C\-K\-\_\-\-T\-Y\-P\-E $\ast$ \hyperlink{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a4a439f783d47636cea978a4c8669f258}{px\-Port\-Initialise\-Stack} (port\-S\-T\-A\-C\-K\-\_\-\-T\-Y\-P\-E $\ast$px\-Top\-Of\-Stack, \hyperlink{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2projdefs_8h_ae74d12a2f9cb1fcae89532830b5413ac}{pd\-T\-A\-S\-K\-\_\-\-C\-O\-D\-E} px\-Code, \hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} $\ast$pv\-Parameters)
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} $\ast$ \hyperlink{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a237d63f90b28e0950bd86f76815cd6e3}{pv\-Port\-Malloc} (size\-\_\-t x\-Size) P\-R\-I\-V\-I\-L\-E\-G\-E\-D\-\_\-\-F\-U\-N\-C\-T\-I\-O\-N
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a735cd3085bb7ba06ff8e47565bfd7016}{v\-Port\-Free} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} $\ast$pv) P\-R\-I\-V\-I\-L\-E\-G\-E\-D\-\_\-\-F\-U\-N\-C\-T\-I\-O\-N
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a846b5ebdaf2b51fe707efb4a0974f676}{v\-Port\-Initialise\-Blocks} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void}) P\-R\-I\-V\-I\-L\-E\-G\-E\-D\-\_\-\-F\-U\-N\-C\-T\-I\-O\-N
\item 
size\-\_\-t \hyperlink{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a8f72fbee5c25c956bda528299ce6dd02}{x\-Port\-Get\-Free\-Heap\-Size} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void}) P\-R\-I\-V\-I\-L\-E\-G\-E\-D\-\_\-\-F\-U\-N\-C\-T\-I\-O\-N
\item 
port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E \hyperlink{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a753e556d14df28a4e9ebf5418a886e61}{x\-Port\-Start\-Scheduler} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void}) P\-R\-I\-V\-I\-L\-E\-G\-E\-D\-\_\-\-F\-U\-N\-C\-T\-I\-O\-N
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_aa356b7baaa9089490321aa919542dd6c}{v\-Port\-End\-Scheduler} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void}) P\-R\-I\-V\-I\-L\-E\-G\-E\-D\-\_\-\-F\-U\-N\-C\-T\-I\-O\-N
\item 
\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void} \hyperlink{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a59f16449022af7efce8d0d128b3dea23}{v\-Port\-Store\-Task\-M\-P\-U\-Settings} (x\-M\-P\-U\-\_\-\-S\-E\-T\-T\-I\-N\-G\-S $\ast$x\-M\-P\-U\-Settings, \hyperlink{group___n_a_m_e_ga7ae6d0e43244213b34de2c2b9aa30da6}{const} struct \hyperlink{structx_m_e_m_o_r_y___r_e_g_i_o_n}{x\-M\-E\-M\-O\-R\-Y\-\_\-\-R\-E\-G\-I\-O\-N} $\ast$\hyperlink{group___n_a_m_e_ga7ae6d0e43244213b34de2c2b9aa30da6}{const} x\-Regions, port\-S\-T\-A\-C\-K\-\_\-\-T\-Y\-P\-E $\ast$px\-Bottom\-Of\-Stack, unsigned short us\-Stack\-Depth) P\-R\-I\-V\-I\-L\-E\-G\-E\-D\-\_\-\-F\-U\-N\-C\-T\-I\-O\-N
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a237d63f90b28e0950bd86f76815cd6e3}{\index{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}!pv\-Port\-Malloc@{pv\-Port\-Malloc}}
\index{pv\-Port\-Malloc@{pv\-Port\-Malloc}!win32/win32/Libraries/FreeRTOS/Source/include/portable.h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}}
\subsubsection[{pv\-Port\-Malloc}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void}$\ast$ pv\-Port\-Malloc (
\begin{DoxyParamCaption}
\item[{size\-\_\-t}]{x\-Size}
\end{DoxyParamCaption}
)}}\label{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a237d63f90b28e0950bd86f76815cd6e3}


Definition at line 106 of file heap\-\_\-1.\-c.

\hypertarget{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_ad7be527fb76ed85fde68cecfa8b3ba9e}{\index{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}!px\-Port\-Initialise\-Stack@{px\-Port\-Initialise\-Stack}}
\index{px\-Port\-Initialise\-Stack@{px\-Port\-Initialise\-Stack}!win32/win32/Libraries/FreeRTOS/Source/include/portable.h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}}
\subsubsection[{px\-Port\-Initialise\-Stack}]{\setlength{\rightskip}{0pt plus 5cm}port\-S\-T\-A\-C\-K\-\_\-\-T\-Y\-P\-E$\ast$ px\-Port\-Initialise\-Stack (
\begin{DoxyParamCaption}
\item[{port\-S\-T\-A\-C\-K\-\_\-\-T\-Y\-P\-E $\ast$}]{px\-Top\-Of\-Stack, }
\item[{{\bf pd\-T\-A\-S\-K\-\_\-\-C\-O\-D\-E}}]{px\-Code, }
\item[{{\bf void} $\ast$}]{pv\-Parameters, }
\item[{port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E}]{x\-Run\-Privileged}
\end{DoxyParamCaption}
)}}\label{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_ad7be527fb76ed85fde68cecfa8b3ba9e}
\hypertarget{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a4a439f783d47636cea978a4c8669f258}{\index{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}!px\-Port\-Initialise\-Stack@{px\-Port\-Initialise\-Stack}}
\index{px\-Port\-Initialise\-Stack@{px\-Port\-Initialise\-Stack}!win32/win32/Libraries/FreeRTOS/Source/include/portable.h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}}
\subsubsection[{px\-Port\-Initialise\-Stack}]{\setlength{\rightskip}{0pt plus 5cm}port\-S\-T\-A\-C\-K\-\_\-\-T\-Y\-P\-E$\ast$ px\-Port\-Initialise\-Stack (
\begin{DoxyParamCaption}
\item[{port\-S\-T\-A\-C\-K\-\_\-\-T\-Y\-P\-E $\ast$}]{px\-Top\-Of\-Stack, }
\item[{{\bf pd\-T\-A\-S\-K\-\_\-\-C\-O\-D\-E}}]{px\-Code, }
\item[{{\bf void} $\ast$}]{pv\-Parameters}
\end{DoxyParamCaption}
)}}\label{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a4a439f783d47636cea978a4c8669f258}
Creates a new thread. port enter needs to be delayed since \hyperlink{_common_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a237d63f90b28e0950bd86f76815cd6e3}{pv\-Port\-Malloc()} and Setup\-Signals\-And\-Scheduler\-Policy() both call critical section code

port enter needs to be delayed since \hyperlink{_common_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a237d63f90b28e0950bd86f76815cd6e3}{pv\-Port\-Malloc()} and Setup\-Signals\-And\-Scheduler\-Policy() both call critical section code

Definition at line 358 of file port.\-c.

\hypertarget{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a14d32f8130d3c0b212cfc751730b5b49}{\index{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}!void@{void}}
\index{void@{void}!win32/win32/Libraries/FreeRTOS/Source/include/portable.h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}}
\subsubsection[{void}]{\setlength{\rightskip}{0pt plus 5cm}typedef void (
\begin{DoxyParamCaption}
\item[{\-\_\-\-\_\-interrupt \-\_\-\-\_\-far $\ast$}]{px\-I\-S\-R}
\end{DoxyParamCaption}
)}}\label{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a14d32f8130d3c0b212cfc751730b5b49}
\hypertarget{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_aa356b7baaa9089490321aa919542dd6c}{\index{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}!v\-Port\-End\-Scheduler@{v\-Port\-End\-Scheduler}}
\index{v\-Port\-End\-Scheduler@{v\-Port\-End\-Scheduler}!win32/win32/Libraries/FreeRTOS/Source/include/portable.h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}}
\subsubsection[{v\-Port\-End\-Scheduler}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-End\-Scheduler (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_aa356b7baaa9089490321aa919542dd6c}
quickly clean up all running threads, without asking them first 

Definition at line 245 of file port.\-c.

\hypertarget{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a735cd3085bb7ba06ff8e47565bfd7016}{\index{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}!v\-Port\-Free@{v\-Port\-Free}}
\index{v\-Port\-Free@{v\-Port\-Free}!win32/win32/Libraries/FreeRTOS/Source/include/portable.h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}}
\subsubsection[{v\-Port\-Free}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-Free (
\begin{DoxyParamCaption}
\item[{{\bf void} $\ast$}]{pv}
\end{DoxyParamCaption}
)}}\label{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a735cd3085bb7ba06ff8e47565bfd7016}


Definition at line 76 of file pios\-\_\-msheap.\-c.

\hypertarget{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a846b5ebdaf2b51fe707efb4a0974f676}{\index{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}!v\-Port\-Initialise\-Blocks@{v\-Port\-Initialise\-Blocks}}
\index{v\-Port\-Initialise\-Blocks@{v\-Port\-Initialise\-Blocks}!win32/win32/Libraries/FreeRTOS/Source/include/portable.h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}}
\subsubsection[{v\-Port\-Initialise\-Blocks}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-Initialise\-Blocks (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a846b5ebdaf2b51fe707efb4a0974f676}


Definition at line 90 of file pios\-\_\-msheap.\-c.

\hypertarget{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a59f16449022af7efce8d0d128b3dea23}{\index{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}!v\-Port\-Store\-Task\-M\-P\-U\-Settings@{v\-Port\-Store\-Task\-M\-P\-U\-Settings}}
\index{v\-Port\-Store\-Task\-M\-P\-U\-Settings@{v\-Port\-Store\-Task\-M\-P\-U\-Settings}!win32/win32/Libraries/FreeRTOS/Source/include/portable.h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}}
\subsubsection[{v\-Port\-Store\-Task\-M\-P\-U\-Settings}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-Store\-Task\-M\-P\-U\-Settings (
\begin{DoxyParamCaption}
\item[{x\-M\-P\-U\-\_\-\-S\-E\-T\-T\-I\-N\-G\-S $\ast$}]{x\-M\-P\-U\-Settings, }
\item[{{\bf const} struct {\bf x\-M\-E\-M\-O\-R\-Y\-\_\-\-R\-E\-G\-I\-O\-N} $\ast${\bf const}}]{x\-Regions, }
\item[{port\-S\-T\-A\-C\-K\-\_\-\-T\-Y\-P\-E $\ast$}]{px\-Bottom\-Of\-Stack, }
\item[{unsigned short}]{us\-Stack\-Depth}
\end{DoxyParamCaption}
)}}\label{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a59f16449022af7efce8d0d128b3dea23}
\hypertarget{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a8f72fbee5c25c956bda528299ce6dd02}{\index{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}!x\-Port\-Get\-Free\-Heap\-Size@{x\-Port\-Get\-Free\-Heap\-Size}}
\index{x\-Port\-Get\-Free\-Heap\-Size@{x\-Port\-Get\-Free\-Heap\-Size}!win32/win32/Libraries/FreeRTOS/Source/include/portable.h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}}
\subsubsection[{x\-Port\-Get\-Free\-Heap\-Size}]{\setlength{\rightskip}{0pt plus 5cm}size\-\_\-t x\-Port\-Get\-Free\-Heap\-Size (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a8f72fbee5c25c956bda528299ce6dd02}


Definition at line 84 of file pios\-\_\-msheap.\-c.

\hypertarget{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a753e556d14df28a4e9ebf5418a886e61}{\index{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}!x\-Port\-Start\-Scheduler@{x\-Port\-Start\-Scheduler}}
\index{x\-Port\-Start\-Scheduler@{x\-Port\-Start\-Scheduler}!win32/win32/Libraries/FreeRTOS/Source/include/portable.h@{win32/win32/\-Libraries/\-Free\-R\-T\-O\-S/\-Source/include/portable.\-h}}
\subsubsection[{x\-Port\-Start\-Scheduler}]{\setlength{\rightskip}{0pt plus 5cm}port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E x\-Port\-Start\-Scheduler (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{win32_2win32_2_libraries_2_free_r_t_o_s_2_source_2include_2portable_8h_a753e556d14df28a4e9ebf5418a886e61}
After tasks have been set up the main thread goes into a sleeping loop, but allows to be interrupted by timer ticks. note\-: N\-O P\-O\-R\-T\-\_\-\-E\-N\-T\-E\-R ! -\/ this is the supervisor thread which runs outside of the schedulers context

Main scheduling loop. Call the tick handler every port\-T\-I\-C\-K\-\_\-\-R\-A\-T\-E\-\_\-\-M\-I\-C\-R\-O\-S\-E\-C\-O\-N\-D\-S

note\-: N\-O P\-O\-R\-T\-\_\-\-E\-N\-T\-E\-R ! -\/ this is the supervisor thread which runs outside of the schedulers context

Main scheduling loop. Call the tick handler every port\-T\-I\-C\-K\-\_\-\-R\-A\-T\-E\-\_\-\-M\-I\-C\-R\-O\-S\-E\-C\-O\-N\-D\-S

Definition at line 220 of file port.\-c.

