\hypertarget{strobj_8c}{\section{/home/jose/\-Code/gui\-Tau/flight/\-Libraries/\-Py\-Mite/vm/strobj.c File Reference}
\label{strobj_8c}\index{/home/jose/\-Code/gui\-Tau/flight/\-Libraries/\-Py\-Mite/vm/strobj.\-c@{/home/jose/\-Code/gui\-Tau/flight/\-Libraries/\-Py\-Mite/vm/strobj.\-c}}
}


String Object Type.  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{pm_8h_a78d16e71b533f23ea2eaa9453f966d56}{Pm\-Return\-\_\-t} \hyperlink{strobj_8c_a8127df26ec4b6cdb5afbb72250d0f4d2}{string\-\_\-create} (\hyperlink{mem_8h_a9c68f72c120fc5a782d464c144aafa2b}{Pm\-Mem\-Space\-\_\-t} memspace, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} \hyperlink{group___n_a_m_e_ga7ae6d0e43244213b34de2c2b9aa30da6}{const} $\ast$$\ast$paddr, \hyperlink{stdint_8h_aa343fa3b3d06292b959ffdd4c4703b06}{int16\-\_\-t} \hyperlink{mavlink__helpers_8h_aba59486c1504340293255a065b546e3a}{len}, \hyperlink{stdint_8h_aa343fa3b3d06292b959ffdd4c4703b06}{int16\-\_\-t} n, \hyperlink{obj_8h_af293479fa3f9d92b941ee7445ad3960e}{p\-Pm\-Obj\-\_\-t} $\ast$r\-\_\-pstring)
\item 
\hyperlink{pm_8h_a78d16e71b533f23ea2eaa9453f966d56}{Pm\-Return\-\_\-t} \hyperlink{strobj_8c_aeb0b107f2ece2e725bd58850c46d7c6b}{string\-\_\-new\-From\-Char} (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} \hyperlink{group___n_a_m_e_ga7ae6d0e43244213b34de2c2b9aa30da6}{const} c, \hyperlink{obj_8h_af293479fa3f9d92b941ee7445ad3960e}{p\-Pm\-Obj\-\_\-t} $\ast$r\-\_\-pstring)
\item 
\hyperlink{stdint_8h_ad566f6541e98b74246db1a3a3a85ad49}{int8\-\_\-t} \hyperlink{strobj_8c_a1542a0448b5617abf4a9d7467dda5029}{string\-\_\-compare} (\hyperlink{strobj_8h_adef544ba13f4cc6288d3965f3a17d361}{p\-Pm\-String\-\_\-t} pstr1, \hyperlink{strobj_8h_adef544ba13f4cc6288d3965f3a17d361}{p\-Pm\-String\-\_\-t} pstr2)
\item 
\hyperlink{pm_8h_a78d16e71b533f23ea2eaa9453f966d56}{Pm\-Return\-\_\-t} \hyperlink{strobj_8c_adae99b6a976fb0fde9ecc3bc1a5991d0}{string\-\_\-print\-Formatted\-Bytes} (\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} $\ast$pb, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} is\-\_\-escaped, \hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\-\_\-t} n)
\item 
\hyperlink{pm_8h_a78d16e71b533f23ea2eaa9453f966d56}{Pm\-Return\-\_\-t} \hyperlink{strobj_8c_a2012491ee35c68be06fde404c4d779fa}{string\-\_\-print} (\hyperlink{obj_8h_af293479fa3f9d92b941ee7445ad3960e}{p\-Pm\-Obj\-\_\-t} pstr, \hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} is\-\_\-escaped)
\item 
\hyperlink{pm_8h_a78d16e71b533f23ea2eaa9453f966d56}{Pm\-Return\-\_\-t} \hyperlink{strobj_8c_a85a3d2cc9edb8ec00c5de42859e1994f}{string\-\_\-cache\-Init} (\hyperlink{group___n_a_m_e_ga18028b8badbf1ea7e704ccac3c488e82}{void})
\item 
\hyperlink{pm_8h_a78d16e71b533f23ea2eaa9453f966d56}{Pm\-Return\-\_\-t} \hyperlink{strobj_8c_a3da6498c1a1113857f27598b4cb1adeb}{string\-\_\-get\-Cache} (\hyperlink{strobj_8h_adef544ba13f4cc6288d3965f3a17d361}{p\-Pm\-String\-\_\-t} $\ast$$\ast$r\-\_\-ppstrcache)
\item 
\hyperlink{pm_8h_a78d16e71b533f23ea2eaa9453f966d56}{Pm\-Return\-\_\-t} \hyperlink{strobj_8c_a388992cd606243f2b521781591cffcf0}{string\-\_\-concat} (\hyperlink{strobj_8h_adef544ba13f4cc6288d3965f3a17d361}{p\-Pm\-String\-\_\-t} pstr1, \hyperlink{strobj_8h_adef544ba13f4cc6288d3965f3a17d361}{p\-Pm\-String\-\_\-t} pstr2, \hyperlink{obj_8h_af293479fa3f9d92b941ee7445ad3960e}{p\-Pm\-Obj\-\_\-t} $\ast$r\-\_\-pstring)
\item 
\hyperlink{pm_8h_a78d16e71b533f23ea2eaa9453f966d56}{Pm\-Return\-\_\-t} \hyperlink{strobj_8c_ad8351f73a4b6693f426ff94473ad0c91}{string\-\_\-format} (\hyperlink{strobj_8h_adef544ba13f4cc6288d3965f3a17d361}{p\-Pm\-String\-\_\-t} pstr, \hyperlink{obj_8h_af293479fa3f9d92b941ee7445ad3960e}{p\-Pm\-Obj\-\_\-t} parg, \hyperlink{obj_8h_af293479fa3f9d92b941ee7445ad3960e}{p\-Pm\-Obj\-\_\-t} $\ast$r\-\_\-pstring)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
String Object Type. String object type opeartions. 

Definition in file \hyperlink{strobj_8c_source}{strobj.\-c}.



\subsection{Function Documentation}
\hypertarget{strobj_8c_a85a3d2cc9edb8ec00c5de42859e1994f}{\index{strobj.\-c@{strobj.\-c}!string\-\_\-cache\-Init@{string\-\_\-cache\-Init}}
\index{string\-\_\-cache\-Init@{string\-\_\-cache\-Init}!strobj.c@{strobj.\-c}}
\subsubsection[{string\-\_\-cache\-Init}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Pm\-Return\-\_\-t} string\-\_\-cache\-Init (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{strobj_8c_a85a3d2cc9edb8ec00c5de42859e1994f}
Clears the string cache if one exists. Called by \hyperlink{heap_8c_af75e64558888d6e7212b81a8886949a3}{heap\-\_\-init()}

\begin{DoxyReturn}{Returns}
Return status 
\end{DoxyReturn}


Definition at line 243 of file strobj.\-c.

\hypertarget{strobj_8c_a1542a0448b5617abf4a9d7467dda5029}{\index{strobj.\-c@{strobj.\-c}!string\-\_\-compare@{string\-\_\-compare}}
\index{string\-\_\-compare@{string\-\_\-compare}!strobj.c@{strobj.\-c}}
\subsubsection[{string\-\_\-compare}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int8\-\_\-t} string\-\_\-compare (
\begin{DoxyParamCaption}
\item[{{\bf p\-Pm\-String\-\_\-t}}]{pstr1, }
\item[{{\bf p\-Pm\-String\-\_\-t}}]{pstr2}
\end{DoxyParamCaption}
)}}\label{strobj_8c_a1542a0448b5617abf4a9d7467dda5029}
Compares two String objects for equality.


\begin{DoxyParams}{Parameters}
{\em pstr1} & Ptr to first string \\
\hline
{\em pstr2} & Ptr to second string \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
C\-\_\-\-S\-A\-M\-E if the strings are equivalent, C\-\_\-\-D\-I\-F\-F\-E\-R otherwise 
\end{DoxyReturn}


Definition at line 146 of file strobj.\-c.

\hypertarget{strobj_8c_a388992cd606243f2b521781591cffcf0}{\index{strobj.\-c@{strobj.\-c}!string\-\_\-concat@{string\-\_\-concat}}
\index{string\-\_\-concat@{string\-\_\-concat}!strobj.c@{strobj.\-c}}
\subsubsection[{string\-\_\-concat}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Pm\-Return\-\_\-t} string\-\_\-concat (
\begin{DoxyParamCaption}
\item[{{\bf p\-Pm\-String\-\_\-t}}]{pstr1, }
\item[{{\bf p\-Pm\-String\-\_\-t}}]{pstr2, }
\item[{{\bf p\-Pm\-Obj\-\_\-t} $\ast$}]{r\-\_\-pstring}
\end{DoxyParamCaption}
)}}\label{strobj_8c_a388992cd606243f2b521781591cffcf0}
Returns a new string object that is the concatenation of the two given strings.


\begin{DoxyParams}{Parameters}
{\em pstr1} & First source string \\
\hline
{\em pstr2} & Second source string \\
\hline
{\em r\-\_\-pstring} & Return arg; ptr to new string object \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return status 
\end{DoxyReturn}


Definition at line 265 of file strobj.\-c.

\hypertarget{strobj_8c_a8127df26ec4b6cdb5afbb72250d0f4d2}{\index{strobj.\-c@{strobj.\-c}!string\-\_\-create@{string\-\_\-create}}
\index{string\-\_\-create@{string\-\_\-create}!strobj.c@{strobj.\-c}}
\subsubsection[{string\-\_\-create}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Pm\-Return\-\_\-t} string\-\_\-create (
\begin{DoxyParamCaption}
\item[{{\bf Pm\-Mem\-Space\-\_\-t}}]{memspace, }
\item[{{\bf uint8\-\_\-t} {\bf const} $\ast$$\ast$}]{paddr, }
\item[{{\bf int16\-\_\-t}}]{len, }
\item[{{\bf int16\-\_\-t}}]{n, }
\item[{{\bf p\-Pm\-Obj\-\_\-t} $\ast$}]{r\-\_\-pstring}
\end{DoxyParamCaption}
)}}\label{strobj_8c_a8127df26ec4b6cdb5afbb72250d0f4d2}
Creates a new String obj. If len is less than zero, load from a String image. If len is zero, copy from a C string (which has a null terminator) If len is positive, copy as many chars as given in the len argument A string image has the following structure\-: -\/type\-: int8 -\/ O\-B\-J\-\_\-\-T\-Y\-P\-E\-\_\-\-S\-T\-R\-I\-N\-G -\/length\-: uint16 -\/ number of bytes in the string -\/val\-: uint8\mbox{[}\mbox{]} -\/ array of chars with null term

Returns by reference a ptr to String obj.

Obtain space for String from the heap. Copy string from memspace. Leave contents of paddr pointing one byte past end of str.

T\-H\-E P\-R\-O\-G\-R\-A\-M\-M\-E\-R S\-H\-O\-U\-L\-D N\-O\-T C\-A\-L\-L T\-H\-I\-S F\-U\-N\-C\-T\-I\-O\-N D\-I\-R\-E\-C\-T\-L\-Y. Instead, use one of the two macros string\-\_\-load\-From\-Img() or string\-\_\-new().


\begin{DoxyParams}{Parameters}
{\em memspace} & memory space where $\ast$paddr points \\
\hline
{\em paddr} & ptr to ptr to null term character array or image. \\
\hline
{\em len} & length of the C character array (use -\/1 for string images, 0 for C strings) \\
\hline
{\em n} & Number of times to replicate the given string argument \\
\hline
{\em r\-\_\-pstring} & Return by reference; ptr to String obj \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return status 
\end{DoxyReturn}


Definition at line 43 of file strobj.\-c.

\hypertarget{strobj_8c_ad8351f73a4b6693f426ff94473ad0c91}{\index{strobj.\-c@{strobj.\-c}!string\-\_\-format@{string\-\_\-format}}
\index{string\-\_\-format@{string\-\_\-format}!strobj.c@{strobj.\-c}}
\subsubsection[{string\-\_\-format}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Pm\-Return\-\_\-t} string\-\_\-format (
\begin{DoxyParamCaption}
\item[{{\bf p\-Pm\-String\-\_\-t}}]{pstr, }
\item[{{\bf p\-Pm\-Obj\-\_\-t}}]{parg, }
\item[{{\bf p\-Pm\-Obj\-\_\-t} $\ast$}]{r\-\_\-pstring}
\end{DoxyParamCaption}
)}}\label{strobj_8c_ad8351f73a4b6693f426ff94473ad0c91}
Returns a new string object that is created from the given format string and the argument(s).


\begin{DoxyParams}{Parameters}
{\em pstr} & Format string object \\
\hline
{\em parg} & Single argument or tuple of arguments \\
\hline
{\em r\-\_\-pstring} & Return arg; ptr to new string object \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return status 
\end{DoxyReturn}


Definition at line 326 of file strobj.\-c.

\hypertarget{strobj_8c_a3da6498c1a1113857f27598b4cb1adeb}{\index{strobj.\-c@{strobj.\-c}!string\-\_\-get\-Cache@{string\-\_\-get\-Cache}}
\index{string\-\_\-get\-Cache@{string\-\_\-get\-Cache}!strobj.c@{strobj.\-c}}
\subsubsection[{string\-\_\-get\-Cache}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Pm\-Return\-\_\-t} string\-\_\-get\-Cache (
\begin{DoxyParamCaption}
\item[{{\bf p\-Pm\-String\-\_\-t} $\ast$$\ast$}]{r\-\_\-ppstrcache}
\end{DoxyParamCaption}
)}}\label{strobj_8c_a3da6498c1a1113857f27598b4cb1adeb}
Returns a pointer to the base of the string cache 

Definition at line 253 of file strobj.\-c.

\hypertarget{strobj_8c_aeb0b107f2ece2e725bd58850c46d7c6b}{\index{strobj.\-c@{strobj.\-c}!string\-\_\-new\-From\-Char@{string\-\_\-new\-From\-Char}}
\index{string\-\_\-new\-From\-Char@{string\-\_\-new\-From\-Char}!strobj.c@{strobj.\-c}}
\subsubsection[{string\-\_\-new\-From\-Char}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Pm\-Return\-\_\-t} string\-\_\-new\-From\-Char (
\begin{DoxyParamCaption}
\item[{{\bf uint8\-\_\-t} {\bf const}}]{c, }
\item[{{\bf p\-Pm\-Obj\-\_\-t} $\ast$}]{r\-\_\-pstring}
\end{DoxyParamCaption}
)}}\label{strobj_8c_aeb0b107f2ece2e725bd58850c46d7c6b}
Creates a new String object from a single character.


\begin{DoxyParams}{Parameters}
{\em c} & The character to become the string \\
\hline
{\em r\-\_\-pstring} & Return by reference; ptr to String obj \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return status 
\end{DoxyReturn}


Definition at line 123 of file strobj.\-c.

\hypertarget{strobj_8c_a2012491ee35c68be06fde404c4d779fa}{\index{strobj.\-c@{strobj.\-c}!string\-\_\-print@{string\-\_\-print}}
\index{string\-\_\-print@{string\-\_\-print}!strobj.c@{strobj.\-c}}
\subsubsection[{string\-\_\-print}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Pm\-Return\-\_\-t} string\-\_\-print (
\begin{DoxyParamCaption}
\item[{{\bf p\-Pm\-Obj\-\_\-t}}]{pstr, }
\item[{{\bf uint8\-\_\-t}}]{is\-\_\-escaped}
\end{DoxyParamCaption}
)}}\label{strobj_8c_a2012491ee35c68be06fde404c4d779fa}
Sends out a string object bytewise. Escaping and framing is configurable via is\-\_\-escaped.


\begin{DoxyParams}{Parameters}
{\em pstr} & Ptr to string object \\
\hline
{\em is\-\_\-escaped} & If 0, print out string as is. Otherwise escape unprintable characters and surround string with single quotes. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return status 
\end{DoxyReturn}


Definition at line 220 of file strobj.\-c.

\hypertarget{strobj_8c_adae99b6a976fb0fde9ecc3bc1a5991d0}{\index{strobj.\-c@{strobj.\-c}!string\-\_\-print\-Formatted\-Bytes@{string\-\_\-print\-Formatted\-Bytes}}
\index{string\-\_\-print\-Formatted\-Bytes@{string\-\_\-print\-Formatted\-Bytes}!strobj.c@{strobj.\-c}}
\subsubsection[{string\-\_\-print\-Formatted\-Bytes}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Pm\-Return\-\_\-t} string\-\_\-print\-Formatted\-Bytes (
\begin{DoxyParamCaption}
\item[{{\bf uint8\-\_\-t} $\ast$}]{pb, }
\item[{{\bf uint8\-\_\-t}}]{is\-\_\-escaped, }
\item[{{\bf uint16\-\_\-t}}]{n}
\end{DoxyParamCaption}
)}}\label{strobj_8c_adae99b6a976fb0fde9ecc3bc1a5991d0}
Prints n bytes, formatting them if is\-\_\-escaped is true


\begin{DoxyParams}{Parameters}
{\em pb} & Pointer to C bytes \\
\hline
{\em is\-\_\-escaped} & Boolean true if string is to be escaped \\
\hline
{\em n} & Number of bytes to print \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return status 
\end{DoxyReturn}


Definition at line 163 of file strobj.\-c.

