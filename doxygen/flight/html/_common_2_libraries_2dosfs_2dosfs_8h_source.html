<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>TauLabs: /home/jose/Code/guiTau/flight/PiOS/Common/Libraries/dosfs/dosfs.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon_128x128.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">TauLabs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_common_2_libraries_2dosfs_2dosfs_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">dosfs.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_common_2_libraries_2dosfs_2dosfs_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">        DOSFS Embedded FAT-Compatible Filesystem</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">        (C) 2005 Lewin A.R.W. Edwards (sysadm@zws.com)</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#ifndef _DOSFS_H</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define _DOSFS_H</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="stdint_8h.html">stdint.h</a>&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//===================================================================</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// User-supplied functions</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="_common_2_libraries_2dosfs_2dfs__sdcard_8c.html#afbdafd32f15bc8227413ec8e9e032800">DFS_ReadSector</a>(<a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> unit, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *buffer, <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> sector, <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="namespacelist.html#a6f68e784976582e93cda71a7309a798e">count</a>);</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="_common_2_libraries_2dosfs_2dfs__sdcard_8c.html#ad6cbe19ad0f5fa7e9fb8dd15657a1dea">DFS_WriteSector</a>(<a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> unit, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *buffer, <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> sector, <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="namespacelist.html#a6f68e784976582e93cda71a7309a798e">count</a>);</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">//===================================================================</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// Configurable items</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#define MAX_PATH                64              // Maximum path length (increasing this will</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor"></span>                                                                <span class="comment">// GREATLY increase stack requirements!)</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#define DIR_SEPARATOR   &#39;/&#39;             // character separating directory components</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// End of configurable items</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">//===================================================================</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">//===================================================================</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">// 32-bit error codes</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#define DFS_OK                  0                        // no error</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define DFS_EOF                 1                       // end of file (not an error)</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define DFS_WRITEPROT   2                       // volume is write protected</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define DFS_NOTFOUND    3                       // path or file not found</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define DFS_PATHLEN             4                       // path too long</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define DFS_ALLOCNEW    5                       // must allocate new directory cluster</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define DFS_ERRMISC             0xffffffff      // generic error</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">//===================================================================</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">// File access modes</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#define DFS_READ                1                       // read-only</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define DFS_WRITE               2                       // write-only</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">//===================================================================</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// Miscellaneous constants</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#define SECTOR_SIZE             512             // sector size in bytes</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">//===================================================================</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">// Internal subformat identifiers</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#define FAT12                   0</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define FAT16                   1</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define FAT32                   2</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">//===================================================================</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">// DOS attribute bits</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#define ATTR_READ_ONLY  0x01</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define ATTR_HIDDEN             0x02</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define ATTR_SYSTEM             0x04</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define ATTR_VOLUME_ID  0x08</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define ATTR_DIRECTORY  0x10</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define ATTR_ARCHIVE    0x20</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define ATTR_LONG_NAME  (ATTR_READ_ONLY | ATTR_HIDDEN | ATTR_SYSTEM | ATTR_VOLUME_ID)</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">        Directory entry structure</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">        note: if name[0] == 0xe5, this is a free dir entry</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">              if name[0] == 0x00, this is a free entry and all subsequent entries are free</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">                  if name[0] == 0x05, the first character of the name is 0xe5 [a kanji nicety]</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">        Date format: bit 0-4  = day of month (1-31)</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">                     bit 5-8  = month, 1=Jan..12=Dec</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">                                 bit 9-15 =     count of years since 1980 (0-127)</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">        Time format: bit 0-4  = 2-second count, (0-29)</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">                     bit 5-10 = minutes (0-59)</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">                                 bit 11-15= hours (0-23)</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html">   76</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__tag_d_i_r_e_n_t.html">_tagDIRENT</a> {</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#a1e290f9e523fdc0530c511cfbb39b5ba">   77</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#a1e290f9e523fdc0530c511cfbb39b5ba">name</a>[11];                       <span class="comment">// filename</span></div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#aa7b22cac0649dc7d55ba096a9ea5aaa6">   78</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#aa7b22cac0649dc7d55ba096a9ea5aaa6">attr</a>;                           <span class="comment">// attributes (see ATTR_* constant definitions)</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#a48922ac3bdc14c73bd254c19c825f10a">   79</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#a48922ac3bdc14c73bd254c19c825f10a">reserved</a>;                       <span class="comment">// reserved, must be 0</span></div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#ad07124c900af577d6f36189dd34b1beb">   80</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#ad07124c900af577d6f36189dd34b1beb">crttimetenth</a>;           <span class="comment">// create time, 10ths of a second (0-199 are valid)</span></div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#a56afff1057ed85e74ccbc06cd9a68748">   81</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#a56afff1057ed85e74ccbc06cd9a68748">crttime_l</a>;                      <span class="comment">// creation time low byte</span></div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#aa34dfc057de0ab0930177e59070a0d57">   82</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#aa34dfc057de0ab0930177e59070a0d57">crttime_h</a>;                      <span class="comment">// creation time high byte</span></div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#a1985e56f435569d336f074accca04c60">   83</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#a1985e56f435569d336f074accca04c60">crtdate_l</a>;                      <span class="comment">// creation date low byte</span></div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#acc71bf7e94fb51d36539e28d4394eb73">   84</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#acc71bf7e94fb51d36539e28d4394eb73">crtdate_h</a>;                      <span class="comment">// creation date high byte</span></div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#a075af3774af8ffe2762c67c6de406e61">   85</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#a075af3774af8ffe2762c67c6de406e61">lstaccdate_l</a>;           <span class="comment">// last access date low byte</span></div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#a6218f264df8a68fa1d77f366599986e1">   86</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#a6218f264df8a68fa1d77f366599986e1">lstaccdate_h</a>;           <span class="comment">// last access date high byte</span></div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#abbc5040aff62aa0032cc4fe49f359574">   87</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#abbc5040aff62aa0032cc4fe49f359574">startclus_h_l</a>;          <span class="comment">// high word of first cluster, low byte (FAT32)</span></div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#a57c772209e69cb350d92a7d51255adb8">   88</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#a57c772209e69cb350d92a7d51255adb8">startclus_h_h</a>;          <span class="comment">// high word of first cluster, high byte (FAT32)</span></div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#a55e29865ff62a0f7820636ccfd525ab9">   89</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#a55e29865ff62a0f7820636ccfd525ab9">wrttime_l</a>;                      <span class="comment">// last write time low byte</span></div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#a0070e26a98c091bf05cac0169864c40b">   90</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#a0070e26a98c091bf05cac0169864c40b">wrttime_h</a>;                      <span class="comment">// last write time high byte</span></div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#a16b08ba749d7e033f20391fc2ec1dce3">   91</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#a16b08ba749d7e033f20391fc2ec1dce3">wrtdate_l</a>;                      <span class="comment">// last write date low byte</span></div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#a6505d3fa444487411c4e147077d80d19">   92</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#a6505d3fa444487411c4e147077d80d19">wrtdate_h</a>;                      <span class="comment">// last write date high byte</span></div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#a0bbcf61e62f3be4056b1858f79b1a829">   93</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#a0bbcf61e62f3be4056b1858f79b1a829">startclus_l_l</a>;          <span class="comment">// low word of first cluster, low byte</span></div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#aeead86b0dc416f9ac91134f464a90775">   94</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#aeead86b0dc416f9ac91134f464a90775">startclus_l_h</a>;          <span class="comment">// low word of first cluster, high byte</span></div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#a858550edbfeff5f97080c1447152d07d">   95</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#a858550edbfeff5f97080c1447152d07d">filesize_0</a>;                     <span class="comment">// file size, low byte</span></div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#a359b91c3884d2c0834e643533ef222f6">   96</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#a359b91c3884d2c0834e643533ef222f6">filesize_1</a>;                     <span class="comment">//</span></div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#a736d6384e9ea1633b86d16d6cab12e5d">   97</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#a736d6384e9ea1633b86d16d6cab12e5d">filesize_2</a>;                     <span class="comment">//</span></div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_e_n_t.html#ad9ff06aac4eeca183d32f53fb2a776a8">   98</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_e_n_t.html#ad9ff06aac4eeca183d32f53fb2a776a8">filesize_3</a>;                     <span class="comment">// file size, high byte</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;} <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#a3c3ecd1c70d5ee3e80c26b15616af17d">DIRENT</a>, *<a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#a85a15a0032dad5b9ef16a266e48775f6">PDIRENT</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">        Partition table entry structure</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="code" href="struct__tag_p_t_i_n_f_o.html">  104</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__tag_p_t_i_n_f_o.html">_tagPTINFO</a> {</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="code" href="struct__tag_p_t_i_n_f_o.html#aeec71d70adc7b2712171a2d240660645">  105</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>         <a class="code" href="struct__tag_p_t_i_n_f_o.html#aeec71d70adc7b2712171a2d240660645">active</a>;                 <span class="comment">// 0x80 if partition active</span></div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="code" href="struct__tag_p_t_i_n_f_o.html#adf2c85cde53029d5a6faecdeadce631a">  106</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>         <a class="code" href="struct__tag_p_t_i_n_f_o.html#adf2c85cde53029d5a6faecdeadce631a">start_h</a>;                <span class="comment">// starting head</span></div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="code" href="struct__tag_p_t_i_n_f_o.html#a0f4f706c223620f18b0afd6cd617784d">  107</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>         <a class="code" href="struct__tag_p_t_i_n_f_o.html#a0f4f706c223620f18b0afd6cd617784d">start_cs_l</a>;             <span class="comment">// starting cylinder and sector (low byte)</span></div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="code" href="struct__tag_p_t_i_n_f_o.html#a73328293e4e01310582f5f602d0c9829">  108</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>         <a class="code" href="struct__tag_p_t_i_n_f_o.html#a73328293e4e01310582f5f602d0c9829">start_cs_h</a>;             <span class="comment">// starting cylinder and sector (high byte)</span></div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="code" href="struct__tag_p_t_i_n_f_o.html#a1b91dc4e2e5424cefd0042e51eeb42e0">  109</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>         <a class="code" href="struct__tag_p_t_i_n_f_o.html#a1b91dc4e2e5424cefd0042e51eeb42e0">type</a>;                   <span class="comment">// type ID byte</span></div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="code" href="struct__tag_p_t_i_n_f_o.html#aece9485e3175c23e1f01c7cab77baaf3">  110</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>         <a class="code" href="struct__tag_p_t_i_n_f_o.html#aece9485e3175c23e1f01c7cab77baaf3">end_h</a>;                  <span class="comment">// ending head</span></div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="code" href="struct__tag_p_t_i_n_f_o.html#a582da9aef553ef622f3a5bb1a561505a">  111</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>         <a class="code" href="struct__tag_p_t_i_n_f_o.html#a582da9aef553ef622f3a5bb1a561505a">end_cs_l</a>;               <span class="comment">// ending cylinder and sector (low byte)</span></div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="code" href="struct__tag_p_t_i_n_f_o.html#a1eeadf0b960061519a8e04e0bcf6e7e3">  112</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>         <a class="code" href="struct__tag_p_t_i_n_f_o.html#a1eeadf0b960061519a8e04e0bcf6e7e3">end_cs_h</a>;               <span class="comment">// ending cylinder and sector (high byte)</span></div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="code" href="struct__tag_p_t_i_n_f_o.html#a8a05891a334a02820e3b060fdd1d9286">  113</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>         <a class="code" href="struct__tag_p_t_i_n_f_o.html#a8a05891a334a02820e3b060fdd1d9286">start_0</a>;                <span class="comment">// starting sector# (low byte)</span></div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="code" href="struct__tag_p_t_i_n_f_o.html#af3854c06b6dbf5502e8500c7074c3479">  114</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>         <a class="code" href="struct__tag_p_t_i_n_f_o.html#af3854c06b6dbf5502e8500c7074c3479">start_1</a>;                <span class="comment">//</span></div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="code" href="struct__tag_p_t_i_n_f_o.html#af3f9d117e832f3fbefa1e314ca0cf6dc">  115</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>         <a class="code" href="struct__tag_p_t_i_n_f_o.html#af3f9d117e832f3fbefa1e314ca0cf6dc">start_2</a>;                <span class="comment">//</span></div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="code" href="struct__tag_p_t_i_n_f_o.html#a8e8dc485042d03b9563691c7889dcc35">  116</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>         <a class="code" href="struct__tag_p_t_i_n_f_o.html#a8e8dc485042d03b9563691c7889dcc35">start_3</a>;                <span class="comment">// starting sector# (high byte)</span></div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="code" href="struct__tag_p_t_i_n_f_o.html#ada4ad45a94528b4871b93db7b4b2869f">  117</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>         <a class="code" href="struct__tag_p_t_i_n_f_o.html#ada4ad45a94528b4871b93db7b4b2869f">size_0</a>;                 <span class="comment">// size of partition (low byte)</span></div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="code" href="struct__tag_p_t_i_n_f_o.html#aac05cc295310da17afb40cb5a0927435">  118</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>         <a class="code" href="struct__tag_p_t_i_n_f_o.html#aac05cc295310da17afb40cb5a0927435">size_1</a>;                 <span class="comment">//</span></div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="code" href="struct__tag_p_t_i_n_f_o.html#a6d85e3e7963f80d263c38da4b8db010f">  119</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>         <a class="code" href="struct__tag_p_t_i_n_f_o.html#a6d85e3e7963f80d263c38da4b8db010f">size_2</a>;                 <span class="comment">//</span></div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="code" href="struct__tag_p_t_i_n_f_o.html#a8fd0e81aab1a0c09454be84655aabab7">  120</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>         <a class="code" href="struct__tag_p_t_i_n_f_o.html#a8fd0e81aab1a0c09454be84655aabab7">size_3</a>;                 <span class="comment">// size of partition (high byte)</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;} <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#a081316ec82d8e36f8d7fd67a55f7d315">PTINFO</a>, *<a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#aef77184892c274fbbfd7db07bfe95ad4">PPTINFO</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">        Master Boot Record structure</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="code" href="struct__tag_m_b_r.html">  126</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__tag_m_b_r.html">_tagMBR</a> {</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="code" href="struct__tag_m_b_r.html#adc073c70797e974820bd4bdfc985a4e6">  127</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_m_b_r.html#adc073c70797e974820bd4bdfc985a4e6">bootcode</a>[0x1be];        <span class="comment">// boot sector</span></div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="code" href="struct__tag_m_b_r.html#aea30f6b40de3831f6d550a3a93e620a3">  128</a></span>&#160;        <a class="code" href="struct__tag_p_t_i_n_f_o.html">PTINFO</a> <a class="code" href="struct__tag_m_b_r.html#aea30f6b40de3831f6d550a3a93e620a3">ptable</a>[4];                       <span class="comment">// four partition table structures</span></div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="code" href="struct__tag_m_b_r.html#aee1e69049db8d559180250167e1d80f6">  129</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_m_b_r.html#aee1e69049db8d559180250167e1d80f6">sig_55</a>;                         <span class="comment">// 0x55 signature byte</span></div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="code" href="struct__tag_m_b_r.html#a58d7eae6321ec3f9b7eca19c79cf21b4">  130</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_m_b_r.html#a58d7eae6321ec3f9b7eca19c79cf21b4">sig_aa</a>;                         <span class="comment">// 0xaa signature byte</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;} <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#ad08eebfcf787cdb3d803813da7280038">MBR</a>, *<a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#ab6e3f9d0eadca80cca36b167dc85da40">PMBR</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">        BIOS Parameter Block structure (FAT12/16)</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html">  136</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__tag_b_p_b.html">_tagBPB</a> {</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#abc6e118f3b0bd4d9ca38003a7505f1f7">  137</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#abc6e118f3b0bd4d9ca38003a7505f1f7">bytepersec_l</a>;           <span class="comment">// bytes per sector low byte (0x00)</span></div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#a2a4fd74f8aefcad0745420989433c6bf">  138</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#a2a4fd74f8aefcad0745420989433c6bf">bytepersec_h</a>;           <span class="comment">// bytes per sector high byte (0x02)</span></div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#adc3def0c79541dad2f5e90424b784b2c">  139</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#adc3def0c79541dad2f5e90424b784b2c">secperclus</a>;                     <span class="comment">// sectors per cluster (1,2,4,8,16,32,64,128 are valid)</span></div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#a076add418bb8ca1994ff0816795cf3ac">  140</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#a076add418bb8ca1994ff0816795cf3ac">reserved_l</a>;                     <span class="comment">// reserved sectors low byte</span></div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#ab54c9d454d0ed1051ee1324a15712ce7">  141</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#ab54c9d454d0ed1051ee1324a15712ce7">reserved_h</a>;                     <span class="comment">// reserved sectors high byte</span></div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#a0d1d00766ed88a28af9933452ddc0e1e">  142</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#a0d1d00766ed88a28af9933452ddc0e1e">numfats</a>;                        <span class="comment">// number of FAT copies (2)</span></div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#aaffc05fd0f136b6eb9e156b08654b91a">  143</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#aaffc05fd0f136b6eb9e156b08654b91a">rootentries_l</a>;          <span class="comment">// number of root dir entries low byte (0x00 normally)</span></div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#a5eda6b74b493d777364fc99f0aa5c655">  144</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#a5eda6b74b493d777364fc99f0aa5c655">rootentries_h</a>;          <span class="comment">// number of root dir entries high byte (0x02 normally)</span></div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#aee93eff1b83b89f70c1c0ca5740b9b82">  145</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#aee93eff1b83b89f70c1c0ca5740b9b82">sectors_s_l</a>;            <span class="comment">// small num sectors low byte</span></div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#a802a986b05ee2c36a3ac5925b0342031">  146</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#a802a986b05ee2c36a3ac5925b0342031">sectors_s_h</a>;            <span class="comment">// small num sectors high byte</span></div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#a4c2e50e2f2b7b532c0e8f67f9ac8e10d">  147</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#a4c2e50e2f2b7b532c0e8f67f9ac8e10d">mediatype</a>;                      <span class="comment">// media descriptor byte</span></div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#aa78aa15761af64f84e739d28648a8e8a">  148</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#aa78aa15761af64f84e739d28648a8e8a">secperfat_l</a>;            <span class="comment">// sectors per FAT low byte</span></div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#a8b7bb8bdff532c5fa854884c91dfe5ac">  149</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#a8b7bb8bdff532c5fa854884c91dfe5ac">secperfat_h</a>;            <span class="comment">// sectors per FAT high byte</span></div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#a937905a1a955310fcdc08d1232807097">  150</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#a937905a1a955310fcdc08d1232807097">secpertrk_l</a>;            <span class="comment">// sectors per track low byte</span></div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#accdeb370774ce0351eb634051633a88a">  151</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#accdeb370774ce0351eb634051633a88a">secpertrk_h</a>;            <span class="comment">// sectors per track high byte</span></div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#a00cd04f4301393e44790dbc6aa6b5ee4">  152</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#a00cd04f4301393e44790dbc6aa6b5ee4">heads_l</a>;                        <span class="comment">// heads low byte</span></div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#a89970cb51f94d482caa1ae73c7aeb132">  153</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#a89970cb51f94d482caa1ae73c7aeb132">heads_h</a>;                        <span class="comment">// heads high byte</span></div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#af3649e1c4f53814419d9f3d7264cf231">  154</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#af3649e1c4f53814419d9f3d7264cf231">hidden_0</a>;                       <span class="comment">// hidden sectors low byte</span></div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#aa224dc853f04d17108598ff858b00e03">  155</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#aa224dc853f04d17108598ff858b00e03">hidden_1</a>;                       <span class="comment">// (note - this is the number of MEDIA sectors before</span></div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#a008c509f7d7fd6e8b97a307a070bf81a">  156</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#a008c509f7d7fd6e8b97a307a070bf81a">hidden_2</a>;                       <span class="comment">// first sector of VOLUME - we rely on the MBR instead)</span></div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#a80d18a3627cf46787461f4e8d88b495c">  157</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#a80d18a3627cf46787461f4e8d88b495c">hidden_3</a>;                       <span class="comment">// hidden sectors high byte</span></div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#a0182c668cbdf0f95aba000884f297ce2">  158</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#a0182c668cbdf0f95aba000884f297ce2">sectors_l_0</a>;            <span class="comment">// large num sectors low byte</span></div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#a65a3e7ba723feb0e9437fb0471cd4aa7">  159</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#a65a3e7ba723feb0e9437fb0471cd4aa7">sectors_l_1</a>;            <span class="comment">//</span></div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#a359489cee09a2925c30aa8711a551b5f">  160</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#a359489cee09a2925c30aa8711a551b5f">sectors_l_2</a>;            <span class="comment">//</span></div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="code" href="struct__tag_b_p_b.html#a1d9186bcf5e98263f2a2cddd37f01570">  161</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_b_p_b.html#a1d9186bcf5e98263f2a2cddd37f01570">sectors_l_3</a>;            <span class="comment">// large num sectors high byte</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;} <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#a2a8ce2c3f436db08ee3e5c243f25353a">BPB</a>, *<a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#a0312c5ca5ec17b678a4bc89b24ce31f4">PBPB</a>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">        Extended BIOS Parameter Block structure (FAT12/16)</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b.html">  167</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__tag_e_b_p_b.html">_tagEBPB</a> {</div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b.html#a80e1472a2611c1705dfbfe41a29cb20b">  168</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b.html#a80e1472a2611c1705dfbfe41a29cb20b">unit</a>;                           <span class="comment">// int 13h drive#</span></div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b.html#a797eed469b81e637435a6c260c890689">  169</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b.html#a797eed469b81e637435a6c260c890689">head</a>;                           <span class="comment">// archaic, used by Windows NT-class OSes for flags</span></div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b.html#ae59851105956356926c52269b2c9cbe6">  170</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b.html#ae59851105956356926c52269b2c9cbe6">signature</a>;                      <span class="comment">// 0x28 or 0x29</span></div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b.html#a20c88e6e9746be8ac63672f2a2ff1ab5">  171</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b.html#a20c88e6e9746be8ac63672f2a2ff1ab5">serial_0</a>;                       <span class="comment">// serial#</span></div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b.html#a4a0ef14d9943dd5edd16183125e2566d">  172</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b.html#a4a0ef14d9943dd5edd16183125e2566d">serial_1</a>;                       <span class="comment">// serial#</span></div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b.html#a96fb561bd2e7b51ec13b63e046469739">  173</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b.html#a96fb561bd2e7b51ec13b63e046469739">serial_2</a>;                       <span class="comment">// serial#</span></div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b.html#a52a1ef5d0540fef62580490c05b896eb">  174</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b.html#a52a1ef5d0540fef62580490c05b896eb">serial_3</a>;                       <span class="comment">// serial#</span></div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b.html#a71b31272ca2e5e4db7b48e21ba408ab4">  175</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b.html#a71b31272ca2e5e4db7b48e21ba408ab4">label</a>[11];                      <span class="comment">// volume label</span></div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b.html#a2a59392bdae876528d5932c573295555">  176</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b.html#a2a59392bdae876528d5932c573295555">system</a>[8];                      <span class="comment">// filesystem ID</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;} <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#acce75b7d2a392a5262bc29026cf1d663">EBPB</a>, *<a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#a070d03e86bf21871bf78c195056fd072">PEBPB</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">        Extended BIOS Parameter Block structure (FAT32)</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html">  182</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__tag_e_b_p_b32.html">_tagEBPB32</a> {</div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#a079b4763fb3928d3f4376692acdd7730">  183</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#a079b4763fb3928d3f4376692acdd7730">fatsize_0</a>;                      <span class="comment">// big FAT size in sectors low byte</span></div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#af7c84014e0db195db7eeccb5bb1ce0c0">  184</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#af7c84014e0db195db7eeccb5bb1ce0c0">fatsize_1</a>;                      <span class="comment">//</span></div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#a5dfa1e6ae53e14ff8a4e7ac14a482928">  185</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#a5dfa1e6ae53e14ff8a4e7ac14a482928">fatsize_2</a>;                      <span class="comment">//</span></div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#a3284256e5fedb816e670af303832ad16">  186</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#a3284256e5fedb816e670af303832ad16">fatsize_3</a>;                      <span class="comment">// big FAT size in sectors high byte</span></div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#a3f4ae0cadf87f63694a33a8a1d4bb34e">  187</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#a3f4ae0cadf87f63694a33a8a1d4bb34e">extflags_l</a>;                     <span class="comment">// extended flags low byte</span></div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#abf867dd5ac5cfe091026932db11958be">  188</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#abf867dd5ac5cfe091026932db11958be">extflags_h</a>;                     <span class="comment">// extended flags high byte</span></div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#a5f36cdcdb07ee83cd90fe3781ff856be">  189</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#a5f36cdcdb07ee83cd90fe3781ff856be">fsver_l</a>;                        <span class="comment">// filesystem version (0x00) low byte</span></div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#aaaeea8c75edd61a8107a9080abe65b98">  190</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#aaaeea8c75edd61a8107a9080abe65b98">fsver_h</a>;                        <span class="comment">// filesystem version (0x00) high byte</span></div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#adb036e32413b53db24e54140a32abfbf">  191</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#adb036e32413b53db24e54140a32abfbf">root_0</a>;                         <span class="comment">// cluster of root dir, low byte</span></div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#a609505eb20b2149064beb81364488b6c">  192</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#a609505eb20b2149064beb81364488b6c">root_1</a>;                         <span class="comment">//</span></div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#aedb34640b47bf2646e2d6f0245ff489b">  193</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#aedb34640b47bf2646e2d6f0245ff489b">root_2</a>;                         <span class="comment">//</span></div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#ace8f2bddcaa766da285863f80c8028d5">  194</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#ace8f2bddcaa766da285863f80c8028d5">root_3</a>;                         <span class="comment">// cluster of root dir, high byte</span></div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#a94899249ffeb26f7b9b12fb56dfa941f">  195</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#a94899249ffeb26f7b9b12fb56dfa941f">fsinfo_l</a>;                       <span class="comment">// sector pointer to FSINFO within reserved area, low byte (2)</span></div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#a8412da0f319a7bd4b7d1d029867f0fc8">  196</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#a8412da0f319a7bd4b7d1d029867f0fc8">fsinfo_h</a>;                       <span class="comment">// sector pointer to FSINFO within reserved area, high byte (0)</span></div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#aa12cd4a091236a300d0d2bf35b3d8c62">  197</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#aa12cd4a091236a300d0d2bf35b3d8c62">bkboot_l</a>;                       <span class="comment">// sector pointer to backup boot sector within reserved area, low byte (6)</span></div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#a2b2ef870d9c060bba41caf53ef39b59f">  198</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#a2b2ef870d9c060bba41caf53ef39b59f">bkboot_h</a>;                       <span class="comment">// sector pointer to backup boot sector within reserved area, high byte (0)</span></div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#a31490ce0a5dfcb41eb5475cf147fe14c">  199</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#a31490ce0a5dfcb41eb5475cf147fe14c">reserved</a>[12];           <span class="comment">// reserved, should be 0</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#ad6539bb48f3cabc55a00dbe92048ff5a">  201</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#ad6539bb48f3cabc55a00dbe92048ff5a">unit</a>;                           <span class="comment">// int 13h drive#</span></div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#ad7a4bfb854d788f256cf6ce63401242b">  202</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#ad7a4bfb854d788f256cf6ce63401242b">head</a>;                           <span class="comment">// archaic, used by Windows NT-class OSes for flags</span></div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#aa962ff6434d08582a956fbe60a4e47cc">  203</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#aa962ff6434d08582a956fbe60a4e47cc">signature</a>;                      <span class="comment">// 0x28 or 0x29</span></div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#a5f152eceb24a8be83512336e13cc9233">  204</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#a5f152eceb24a8be83512336e13cc9233">serial_0</a>;                       <span class="comment">// serial#</span></div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#ae414faf3c3ed8f76bfbedb4b469f2347">  205</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#ae414faf3c3ed8f76bfbedb4b469f2347">serial_1</a>;                       <span class="comment">// serial#</span></div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#afdfea50ffcd797c7567d4d2615e89f86">  206</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#afdfea50ffcd797c7567d4d2615e89f86">serial_2</a>;                       <span class="comment">// serial#</span></div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#a89f220513e4f769d79e719c235c296c9">  207</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#a89f220513e4f769d79e719c235c296c9">serial_3</a>;                       <span class="comment">// serial#</span></div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#a8ee40df825ec10791bdc99ac72de81bd">  208</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#a8ee40df825ec10791bdc99ac72de81bd">label</a>[11];                      <span class="comment">// volume label</span></div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="code" href="struct__tag_e_b_p_b32.html#aea64103d771d43a4ae2590ebe065ff72">  209</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_e_b_p_b32.html#aea64103d771d43a4ae2590ebe065ff72">system</a>[8];                      <span class="comment">// filesystem ID</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;} <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#a32a707d601d48ab1403bb197255f54f3">EBPB32</a>, *<a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#aa695142aa4e7b47330f90602530ceeb9">PEBPB32</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">        Logical Boot Record structure (volume boot sector)</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="code" href="struct__tag_l_b_r.html">  215</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__tag_l_b_r.html">_tagLBR</a> {</div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="code" href="struct__tag_l_b_r.html#ab0f59cb4457c23b8644896990cfde9fa">  216</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_l_b_r.html#ab0f59cb4457c23b8644896990cfde9fa">jump</a>[3];                        <span class="comment">// JMP instruction</span></div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="code" href="struct__tag_l_b_r.html#a014fa7053028c54af3aafa297b1ab734">  217</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_l_b_r.html#a014fa7053028c54af3aafa297b1ab734">oemid</a>[8];                       <span class="comment">// OEM ID, space-padded</span></div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="code" href="struct__tag_l_b_r.html#a018f4a41ea5bf12d345994ace8d7a50d">  218</a></span>&#160;        <a class="code" href="struct__tag_b_p_b.html">BPB</a> <a class="code" href="struct__tag_l_b_r.html#a018f4a41ea5bf12d345994ace8d7a50d">bpb</a>;                                        <span class="comment">// BIOS Parameter Block</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keyword">union </span>{</div>
<div class="line"><a name="l00220"></a><span class="lineno"><a class="code" href="struct__tag_l_b_r.html#a86d3372f818b659d2031640876756593">  220</a></span>&#160;                <a class="code" href="struct__tag_e_b_p_b.html">EBPB</a> <a class="code" href="struct__tag_l_b_r.html#a86d3372f818b659d2031640876756593">ebpb</a>;                              <span class="comment">// FAT12/16 Extended BIOS Parameter Block</span></div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="code" href="struct__tag_l_b_r.html#a2998f055db7d2eb2020271037630d3d3">  221</a></span>&#160;                <a class="code" href="struct__tag_e_b_p_b32.html">EBPB32</a> <a class="code" href="struct__tag_l_b_r.html#a2998f055db7d2eb2020271037630d3d3">ebpb32</a>;                  <span class="comment">// FAT32 Extended BIOS Parameter Block</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        } <a class="code" href="struct__tag_l_b_r.html#a86d3372f818b659d2031640876756593">ebpb</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="code" href="struct__tag_l_b_r.html#a9b37ce11cb14157ded631ff935d17c94">  223</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_l_b_r.html#a9b37ce11cb14157ded631ff935d17c94">code</a>[420];                      <span class="comment">// boot sector code</span></div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="code" href="struct__tag_l_b_r.html#ac436541abd5f2d88777d476818be6e8b">  224</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_l_b_r.html#ac436541abd5f2d88777d476818be6e8b">sig_55</a>;                         <span class="comment">// 0x55 signature byte</span></div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="code" href="struct__tag_l_b_r.html#a29f47076e3080b467ae86ea92a5ca8e1">  225</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_l_b_r.html#a29f47076e3080b467ae86ea92a5ca8e1">sig_aa</a>;                         <span class="comment">// 0xaa signature byte</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;} <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#a7a53e80cd6ce7fce2e8e917b3f512dd8">LBR</a>, *<a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#a93694f430a8bab000e7d6e6043ae9a15">PLBR</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">        Volume information structure (Internal to DOSFS)</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="code" href="struct__tag_v_o_l_i_n_f_o.html">  231</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__tag_v_o_l_i_n_f_o.html">_tagVOLINFO</a> {</div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a35c7c89f02f3f0d63d0a1246d1f6a20f">  232</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a35c7c89f02f3f0d63d0a1246d1f6a20f">unit</a>;                           <span class="comment">// unit on which this volume resides</span></div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a574983d37caae8401e8e3cfb01b2e8ce">  233</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a574983d37caae8401e8e3cfb01b2e8ce">filesystem</a>;                     <span class="comment">// formatted filesystem</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">// These two fields aren&#39;t very useful, so support for them has been commented out to</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">// save memory. (Note that the &quot;system&quot; tag is not actually used by DOS to determine</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">// filesystem type - that decision is made entirely on the basis of how many clusters</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">// the drive contains. DOSFS works the same way).</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">// See tag: OEMID in dosfs.c</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">//      uint8_t oemid[9];                       // OEM ID ASCIIZ</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">//      uint8_t system[9];                      // system ID ASCIIZ</span></div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a1e4ccac1ea8916bde65680e26af117f6">  242</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a1e4ccac1ea8916bde65680e26af117f6">label</a>[12];                      <span class="comment">// volume label ASCIIZ</span></div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a81725e5affac42409e2efde497cd9d67">  243</a></span>&#160;        <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a81725e5affac42409e2efde497cd9d67">startsector</a>;           <span class="comment">// starting sector of filesystem</span></div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="code" href="struct__tag_v_o_l_i_n_f_o.html#aab3ee1dd155d279aa09dca88f29f4d37">  244</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_v_o_l_i_n_f_o.html#aab3ee1dd155d279aa09dca88f29f4d37">secperclus</a>;                     <span class="comment">// sectors per cluster</span></div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a31d91d308b6a9c9064ea5ef5a79f1e7a">  245</a></span>&#160;        <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a31d91d308b6a9c9064ea5ef5a79f1e7a">reservedsecs</a>;          <span class="comment">// reserved sectors</span></div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a4ab4874e4f9da06c1cdf5c1d03e1ce6d">  246</a></span>&#160;        <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a4ab4874e4f9da06c1cdf5c1d03e1ce6d">numsecs</a>;                       <span class="comment">// number of sectors in volume</span></div>
<div class="line"><a name="l00247"></a><span class="lineno"><a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a5eecad9a5d1a1582a86b9b965346f68b">  247</a></span>&#160;        <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a5eecad9a5d1a1582a86b9b965346f68b">secperfat</a>;                     <span class="comment">// sectors per FAT</span></div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a0e9b10c6cee9604eb31bf11f6d2b729a">  248</a></span>&#160;        <a class="code" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a0e9b10c6cee9604eb31bf11f6d2b729a">rootentries</a>;           <span class="comment">// number of root dir entries</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="code" href="struct__tag_v_o_l_i_n_f_o.html#ae43f79217850e7e7d2c58b982ccd70c8">  250</a></span>&#160;        <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="struct__tag_v_o_l_i_n_f_o.html#ae43f79217850e7e7d2c58b982ccd70c8">numclusters</a>;           <span class="comment">// number of clusters on drive</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="comment">// The fields below are PHYSICAL SECTOR NUMBERS.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="code" href="struct__tag_v_o_l_i_n_f_o.html#af9ff7c38631aaaa87c0f65832450ca92">  253</a></span>&#160;        <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="struct__tag_v_o_l_i_n_f_o.html#af9ff7c38631aaaa87c0f65832450ca92">fat1</a>;                          <span class="comment">// starting sector# of FAT copy 1</span></div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="code" href="struct__tag_v_o_l_i_n_f_o.html#aa405d5cc36175170ff8b5c771e7f2433">  254</a></span>&#160;        <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="struct__tag_v_o_l_i_n_f_o.html#aa405d5cc36175170ff8b5c771e7f2433">rootdir</a>;                       <span class="comment">// starting sector# of root directory (FAT12/FAT16) or cluster (FAT32)</span></div>
<div class="line"><a name="l00255"></a><span class="lineno"><a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a869ef5cf4455b0c78c9a4d4f5f54f930">  255</a></span>&#160;        <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="struct__tag_v_o_l_i_n_f_o.html#a869ef5cf4455b0c78c9a4d4f5f54f930">dataarea</a>;                      <span class="comment">// starting sector# of data area (cluster #2)</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;} <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#ab15dd212b2a979227ba29f34005a45b7">VOLINFO</a>, *<a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#abd4937140ca1b1aa4ccc5db57864cb94">PVOLINFO</a>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">        Flags in DIRINFO.flags</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="preprocessor">#define DFS_DI_BLANKENT         0x01    // Searching for blank entry</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">        Directory search structure (Internal to DOSFS)</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_i_n_f_o.html">  266</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__tag_d_i_r_i_n_f_o.html">_tagDIRINFO</a> {</div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_i_n_f_o.html#a9293dde8f8eaf8562ac9c6d9fd9775ab">  267</a></span>&#160;        <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="struct__tag_d_i_r_i_n_f_o.html#a9293dde8f8eaf8562ac9c6d9fd9775ab">currentcluster</a>;        <span class="comment">// current cluster in dir</span></div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_i_n_f_o.html#afa2cf25d369bacfb663c66d155b94dc6">  268</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_i_n_f_o.html#afa2cf25d369bacfb663c66d155b94dc6">currentsector</a>;          <span class="comment">// current sector in cluster</span></div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_i_n_f_o.html#aea457c15814fce786d57cb8c4a6d1c49">  269</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_i_n_f_o.html#aea457c15814fce786d57cb8c4a6d1c49">currententry</a>;           <span class="comment">// current dir entry in sector</span></div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_i_n_f_o.html#a49e322b7df078a285bd7eb2876a77d88">  270</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *<a class="code" href="struct__tag_d_i_r_i_n_f_o.html#a49e322b7df078a285bd7eb2876a77d88">scratch</a>;                       <span class="comment">// ptr to user-supplied scratch buffer (one sector)</span></div>
<div class="line"><a name="l00271"></a><span class="lineno"><a class="code" href="struct__tag_d_i_r_i_n_f_o.html#abb78f5191652783e44a4dfb207725fe1">  271</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_d_i_r_i_n_f_o.html#abb78f5191652783e44a4dfb207725fe1">flags</a>;                          <span class="comment">// internal DOSFS flags</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;} <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#a0d0d034d97a83ea03861ae4de44e05ba">DIRINFO</a>, *<a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#a9e260d47e05d1f2bab0d93e7485dfa09">PDIRINFO</a>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">        File handle structure (Internal to DOSFS)</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html">  277</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html">_tagFILEINFO</a> {</div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html#ad1df3e8baf126e641d65bd0124d75cc6">  278</a></span>&#160;        PVOLINFO <a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html#ad1df3e8baf126e641d65bd0124d75cc6">volinfo</a>;                       <span class="comment">// VOLINFO used to open this file</span></div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html#a1cbbd31889eb0626a1d562f9ba6c1900">  279</a></span>&#160;        <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html#a1cbbd31889eb0626a1d562f9ba6c1900">dirsector</a>;                     <span class="comment">// physical sector containing dir entry of this file</span></div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html#a8f9f5838873de9b6660388ca21d2c648">  280</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html#a8f9f5838873de9b6660388ca21d2c648">diroffset</a>;                      <span class="comment">// # of this entry within the dir sector</span></div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html#ad6af17bc51774b936fa7f5aa9d1b60a0">  281</a></span>&#160;        <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html#ad6af17bc51774b936fa7f5aa9d1b60a0">mode</a>;                           <span class="comment">// mode in which this file was opened</span></div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html#ad26f69c2fee785bf1baf4aded4f3e289">  282</a></span>&#160;        <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html#ad26f69c2fee785bf1baf4aded4f3e289">firstcluster</a>;          <span class="comment">// first cluster of file</span></div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html#ab62951fccfa808ccf0d5fe5be7f8c4b1">  283</a></span>&#160;        <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html#ab62951fccfa808ccf0d5fe5be7f8c4b1">filelen</a>;                       <span class="comment">// byte length of file</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html#a5f5528fc511f81d31dbd191f01bd77b9">  285</a></span>&#160;        <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html#a5f5528fc511f81d31dbd191f01bd77b9">cluster</a>;                       <span class="comment">// current cluster</span></div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html#ae9852fdaed1583d7a4a317f5938d90df">  286</a></span>&#160;        <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="struct__tag_f_i_l_e_i_n_f_o.html#ae9852fdaed1583d7a4a317f5938d90df">pointer</a>;                       <span class="comment">// current (BYTE) pointer</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;} <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#a276bdbc040c12591ba6227b280700ba5">FILEINFO</a>, *<a class="code" href="_common_2_libraries_2dosfs_2dosfs_8h.html#a7e176967adef3fee89b5cc83d7daa32e">PFILEINFO</a>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">        Get starting sector# of specified partition on drive #unit</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">        NOTE: This code ASSUMES an MBR on the disk.</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">        scratchsector should point to a SECTOR_SIZE scratch area</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">        Returns 0xffffffff for any error.</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">        If pactive is non-NULL, this function also returns the partition active flag.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">        If pptype is non-NULL, this function also returns the partition type.</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">        If psize is non-NULL, this function also returns the partition size.</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8c.html#a8a6c60fe2f09cc290b6c185a93f53185">DFS_GetPtnStart</a>(<a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> unit, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *scratchsector, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> pnum, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *pactive, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *pptype, <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *psize);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">        Retrieve volume info from BPB and store it in a VOLINFO structure</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">        You must provide the unit and starting sector of the filesystem, and</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">        a pointer to a sector buffer for scratch</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">        Attempts to read BPB and glean information about the FS from that.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">        Returns 0 OK, nonzero for any error.</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8c.html#a6af8bd89e3f0233cdae6a0c9f67276a9">DFS_GetVolInfo</a>(<a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> unit, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *scratchsector, <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> startsector, PVOLINFO volinfo);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">        Open a directory for enumeration by DFS_GetNextDirEnt</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">        You must supply a populated VOLINFO (see DFS_GetVolInfo)</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">        The empty string or a string containing only the directory separator are</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">        considered to be the root directory.</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">        Returns 0 OK, nonzero for any error.</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8c.html#ab686d85f51afc2cf3919b3b01917bb71">DFS_OpenDir</a>(PVOLINFO volinfo, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *dirname, PDIRINFO dirinfo);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">        Get next entry in opened directory structure. Copies fields into the dirent</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">        structure, updates dirinfo. Note that it is the _caller&#39;s_ responsibility to</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">        handle the &#39;.&#39; and &#39;..&#39; entries.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">        A deleted file will be returned as a NULL entry (first char of filename=0)</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">        by this code. Filenames beginning with 0x05 will be translated to 0xE5</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">        automatically. Long file name entries will be returned as NULL.</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">        returns DFS_EOF if there are no more entries, DFS_OK if this entry is valid,</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">        or DFS_ERRMISC for a media error</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8c.html#a74cce24fee422059790076125a579126">DFS_GetNext</a>(PVOLINFO volinfo, PDIRINFO dirinfo, PDIRENT dirent);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">        Open a file for reading or writing. You supply populated VOLINFO, a path to the file,</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">        mode (DFS_READ or DFS_WRITE) and an empty fileinfo structure. You also need to</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">        provide a pointer to a sector-sized scratch buffer.</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">        Returns various DFS_* error states. If the result is DFS_OK, fileinfo can be used</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">        to access the file from this point on.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8c.html#a78628c45f78b7ced4a0e06796e2944cc">DFS_OpenFile</a>(PVOLINFO volinfo, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *path, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> mode, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *scratch, PFILEINFO fileinfo);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">        Read an open file</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">        You must supply a prepopulated FILEINFO as provided by DFS_OpenFile, and a</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">        pointer to a SECTOR_SIZE scratch buffer.</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">        Note that returning DFS_EOF is not an error condition. This function updates the</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">        successcount field with the number of bytes actually read.</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8c.html#a50841bad8ec8ac1533d0c88305b545fa">DFS_ReadFile</a>(PFILEINFO fileinfo, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *scratch, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *buffer, <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *successcount, <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="mavlink__helpers_8h.html#aba59486c1504340293255a065b546e3a">len</a>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">        Write an open file</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">        You must supply a prepopulated FILEINFO as provided by DFS_OpenFile, and a</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">        pointer to a SECTOR_SIZE scratch buffer.</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">        This function updates the successcount field with the number of bytes actually written.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8c.html#a78414eaa8627661ac35320c65193fd51">DFS_WriteFile</a>(PFILEINFO fileinfo, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *scratch, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *buffer, <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *successcount, <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="mavlink__helpers_8h.html#aba59486c1504340293255a065b546e3a">len</a>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">        Seek file pointer to a given position</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">        This function does not return status - refer to the fileinfo-&gt;pointer value</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">        to see where the pointer wound up.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">        Requires a SECTOR_SIZE scratch buffer</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="keywordtype">void</span> <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8c.html#a2c215bb8fa355d1a7be7d84eaed87a53">DFS_Seek</a>(PFILEINFO fileinfo, <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="group___copter_control_b_l.html#gaa9fff43968831437a312428836cab362">offset</a>, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *scratch);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">        Delete a file</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">        scratch must point to a sector-sized buffer</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8c.html#a2a4bb949d9f180f12b3461129a99c5c6">DFS_UnlinkFile</a>(PVOLINFO volinfo, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *path, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *scratch);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">        Fetch FAT entry for specified cluster number</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">        You must provide a scratch buffer for one sector (SECTOR_SIZE) and a populated VOLINFO</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">        Returns a FAT32 BAD_CLUSTER value for any error, otherwise the contents of the desired</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">        FAT entry.</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">        scratchcache should point to a UINT32. This variable caches the physical sector number</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">        last read into the scratch buffer for performance enhancement reasons.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8c.html#ae742b1a11c80253e800ba9b2dd1d9e64">DFS_GetFAT</a>(PVOLINFO volinfo, <a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *scratch, <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *scratchcache, <a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> cluster);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">// TK: added 2009-02-12</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">        Close a file</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">        No original function of DosFS driver</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">        It has no effect if writing to SD Card, it&#39;s only used by the DosFS wrapper in emulation</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<a class="code" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="_common_2_libraries_2dosfs_2dosfs_8c.html#adcbb190722c81d53f786d958a96d2fc2">DFS_Close</a>(PFILEINFO fileinfo);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">// TK: added 2008-18-12</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">// for caching - this feature has to be explicitely enabled, as it isn&#39;t reentrant</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">// and requires to use the same buffer pointer whenever reading a file</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="keywordtype">void</span> <a class="code" href="_common_2_libraries_2dosfs_2dfs__sdcard_8c.html#aca6de789fd0a7008ca9c8b5121ed1add">DFS_CachingEnabledSet</a>(<a class="code" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> enable);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">// TK: added 2008-18-12</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">// missing pendant to DFS_CanonicalToDir</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="_common_2_libraries_2dosfs_2dfs__sdcard_8c.html#ae125ec185d96f0c29ca57134f219fb0d">DFS_DirToCanonical</a>(<span class="keywordtype">char</span> *dest, <span class="keywordtype">char</span> *src);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">// If we are building a host-emulation version, include host support</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="preprocessor">#ifdef HOSTVER</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &quot;hostemu.h&quot;</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="preprocessor">#endif // _DOSFS_H</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_1c0fe066ee3bbbff6911f1b6f0521ee4.html">flight</a></li><li class="navelem"><a class="el" href="dir_5a3d8bc9852988e902c2cb41a89fd797.html">PiOS</a></li><li class="navelem"><a class="el" href="dir_1ad632aa75fb2fa942c73a8375612937.html">Common</a></li><li class="navelem"><a class="el" href="dir_fcb909fa023d0e2eb51b3654d1c09422.html">Libraries</a></li><li class="navelem"><a class="el" href="dir_de02e1ed2eca090456b4daffd02520a0.html">dosfs</a></li><li class="navelem"><a class="el" href="_common_2_libraries_2dosfs_2dosfs_8h.html">dosfs.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
